{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":66,"width":1366,"height":702,"maximized":true},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Fr macke/Desktop/Lab10a/Lab10a/Lab10a"],"buffers":[{"text":"//Functions needed to control an LCD display\n//The program writes HELLO on a display\n//121117\n//Jonas F\n\n//Uppgift 5 lab 13\n/*\tFilen genererar en PWM-signal men symetrin på singalen går att styra\n\tmed en knapp. Den ökar tills det blir max och då nollställs den och\n\tbörjar om.\n\n\tEn pro micro används istället för leonaro, samma processor med lite\n\tannorluna pinout på pcb:n.\n*/\n#define\t\tF_CPU\t16000000UL\t//16MHz\n#define \tCOL1 \t0x88\t//Col1 PD4, pin 4, 1000 1000, PD4 = 0\n#define \tCOL2 \t0x18\t//Col2 PD7, pin 6, 0001 1000, PD7 = 0\n#define \tCOL3 \t0x90\t//Col3 PD3, pin 1 (TXO), 1001 0000, PD3 = 0\n#define \tRS \t\t0\t\t//PD0\n#define \tRW \t\t1\t\t//PD1\n#define \tE \t\t6\t\t//PC6, moved from PC7 N/C\n#define\t\tdelay\t1\n\n#include \t<avr/io.h>\n#include\t<util/delay.h>\n#include\t<avr/interrupt.h>\n\n\n//Global\nint seconds;\n\nextern void wait(char);\nextern void wait_long(char);\nextern void no_operation(void);\n\n//Functions\nvoid init_pins(void);\nvoid send_nibble(char halfbyte);\nvoid send_instruction(char byte);\nvoid send_character(char byte);\nvoid init_LCD(void);\nvoid waithalfsecond(void);\nvoid wait_busyflag(void);\nvoid send_decimal(char number);\nvoid send_hexdigit(char number);\nvoid send_hex(char number);\nvoid send_to_display(char number);\nvoid shift_cursor_right(int times);\nvoid init_timer1();\nvoid set_OCRA(int sym);\nvoid set_TIMSK1();\n//End Functions\n\n\nvoid init_pins(void)\t{\n\tDDRD = 0xFF;\t//PD0-PD7 outputs\n\tPORTD = 0xFF;\t//PD0-PD7 HIGH\n\tDDRF = 0xF0;\t//PF4-PF7 outputs, data LCD, A3-A0\n\tDDRC = 0xF0;\t//PC4-PC7 outputs\n\tPORTC = 0x0F;\t//Outputs LOW, inputs pullup\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\n\tPORTB = 0xF0;\t//connect pullup resistors\n}\n\nvoid send_nibble(char halfbyte)\t{\n\tPORTF = halfbyte;\n\tPORTC |= (1 << E);//start pulse\n\twait(1);\t//pulse length 750 ns\n\tPORTC &=!(1 << E);  //end pulse\n}\n\nvoid send_instruction(char byte)\n{\n\twait_busyflag();\n\tPORTD &= ~(1 << RS);\n\tPORTD &= ~(1 << RW);\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\n\nvoid send_character(char byte)\n{\n\twait_busyflag();\n\tPORTD |= (1 << RS);\t//RS = 1, character\n\tPORTD &= ~(1 << RW);\t//RW =0\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\nvoid init_LCD(void)\t{\n\tPORTD &= ~(1 << RS);\t//RS=0\n\tsend_nibble(0x30);\n\twait_long(41); //wait 4,1 ms\n\tsend_nibble(0x30);\n\twait_long(1); //wait 100 us\n\tsend_nibble(0x30);\n\tsend_nibble(0x20);\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\n\tsend_instruction(0x28);\n\tsend_instruction(0x0F);\n\tsend_instruction(0x01);\n\twait_long(16);\n\tsend_instruction(0x06);\n}\n\nvoid waithalfsecond(void)\t{\n\tchar i;\n\ti = 25;\n\twhile (i)\n\t{\n\t\ti--;\n\t\twait_long(200);\n\t}\n}\n\nvoid wait_busyflag(void)\t{\n\tchar byte, dummy;\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\n\tPORTD |= (1<<RW);\t//RW = 1\n\tPORTD &= ~(1<<RS);\t//RS = 0\n\tdo\n\t{\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tdummy = PINF;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t}\n\twhile(byte);\n\tPORTD &= ~(1<<RW);\t//read from LCD\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\n}\n\nvoid send_decimal(char number)\t{\t//Sends a decimal to display\n\tsend_character(number/100 + 0x30);\n\tnumber %= 100;\n\tsend_character(number/10 + 0x30);\n\tsend_character(number % 10 + 0x30);\n}\n\nvoid send_hexdigit(char number)\t{\t//Sends a hex digit to display\n\tif(number > 0x39)\n\t\tnumber += 7;\n\tsend_character(number);\n}\n\nvoid send_hex(char number)\t{\t//Sends byte in hexd form to display\n\tchar temp;\n\ttemp = number/16 + 0x30;\n\tsend_hexdigit(temp);\n\ttemp = number % 16 + 0x30;\n\tsend_hexdigit(temp);\n}\n\nvoid send_to_display(char number) {\t\t//Sends a number to display in both dec and hex-form\n\tsend_instruction(0x80);\t//Place marker at pos 0, 1st row 1000 0000 (1rpp pppp)\n\tsend_decimal(number);\n\tshift_cursor_right(3);\t//Shift cursor 3 times right\n\tshift_cursor_right(3);\t//One more times\n\tsend_hex(number);\n}\n\nvoid shift_cursor_right(int times) {\n\twhile (times) {\n\t\tsend_instruction(0x14);\t//Move cursor right, 0001 0100\n\t\ttimes--;\n//\t\twaithalfsecond();\t//Debugin'\n\t}\n}\n\n//Set timer3 divider to 64, 16MHz/25 = 0.25MHz, mod 5\nvoid init_timer3() {\n\tTCCR3B &= (0b11101011);\t//Clear bit 2,4\n\tTCCR3B |= (0b00001011);\t//Set bit 0,1,3\n\tTCCR3A &= (0b11111101);\t//Clear bit 1\n\tTCCR3A |= (0b00000001);\t//Set bit 0\n\n}\n\n// Set PWM clear on match for timer3\nvoid set_pwm_timer3() {\n\tTCCR3A &= (0b10111111);\t//Clear bit 6\n\tTCCR3A |= (0b10000000);\t//Set bit 7\n}\n\n// Set timer1 divisor 256 and mode 4\nvoid init_timer1() {\n\tTCCR1B &= (0b11100000);\t//Clear bits 4:0\n\tTCCR1B |= (0b00001100);\t//Set bits 4:0 (01100)\n\tTCCR1A &= (0b11111100);\t//Clear bits 1:0\n}\n\n// Set compare reg. A\nvoid set_OCRA(int sym) {\n\t// OCR1A = (0xF424);\t// Set value 62.5k in comp.reg (62.5kHz)\n\tOCR3A = (sym);\t\t//Set value 255 in comp.reg 3A, 50% duty\n}\n\n// Enable match interrupt when flag is set\nvoid set_TIMSK1() {\n\tTIMSK1 = (0x2);\t// Set bit 1, enable output comp. A match interrupt\n}\n\n\n\nISR(TIMER1_COMPA_vect) {\n\tseconds++;\n\tif (seconds > 59) {\n\t\tseconds = 0;\n\t}\n\tsend_instruction(0xC0);\t//2nd row\n\tsend_decimal(seconds);\n\n}\n\nint main(void)\t{\n\tint byte = 0x0;\n\t// USBCON = 0;\t//Clear ALL the USBs\n\tinit_pins();\n\t// init_LCD();\n\t// init_timer1();\n\tinit_timer3();\n\tset_pwm_timer3();\n\t set_OCRA(byte);\n\n\t// set_TIMSK1();\n\t// sei();\n\t// seconds = 0;\n\tPORTD = COL1;\n\n\t// Increment duty cycle when pushing button\n\twhile (1) {\n\t\t_delay_ms(delay * 10);\t//\"Debounce\" 10ms\n\t\tno_operation();\n\t\tif (!(PINB & (1<<4))) {\n\t\t\tif (byte > 200) {\n\t\t\t\tbyte = 0;\n\t\t\t}\n\t\t\telse\t{\n\t\t\t\tbyte = byte + 25;\n\t\t\t}\n\n\t\t\tset_OCRA(byte);\n\n\t\t\tdo\n\t\t\t\tno_operation();\n\t\t\twhile(!(PINB & (1<<4)));\n\n\t\t}\n\t}\n}\n","markerStore":{"nextMarkerId":7,"markersById":{"0":{"range":{"start":{"row":11,"column":27},"end":{"row":11,"column":27}},"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":161,"undoStack":[{"type":"group-start","snapshot":{"0":{"range":[[8,11],[8,11]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,11],[8,11]],"newRange":[[8,11],[9,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,1]],"oldText":"","newText":"\t"}},{"type":"change","content":{"oldRange":[[9,1],[9,1]],"newRange":[[9,1],[10,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,1]],"oldText":"","newText":"\t"}},{"type":"change","content":{"oldRange":[[9,0],[9,1]],"newRange":[[9,0],[9,0]],"oldText":"\t","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,1],[10,1]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,1],[10,1]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,1],[10,1]],"newRange":[[10,1],[10,2]],"oldText":"","newText":"E"}},{"type":"change","content":{"oldRange":[[10,2],[10,2]],"newRange":[[10,2],[10,3]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,3],[10,3]],"newRange":[[10,3],[10,4]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,4],[10,4]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,4],[10,4]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,4],[10,4]],"newRange":[[10,4],[10,5]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[10,5],[10,5]],"newRange":[[10,5],[10,6]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,6],[10,6]],"newRange":[[10,6],[10,7]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[10,7],[10,7]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,7],[10,7]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,7],[10,7]],"newRange":[[10,7],[10,8]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,8],[10,8]],"newRange":[[10,8],[10,9]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[10,9],[10,9]],"newRange":[[10,9],[10,10]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,10],[10,10]],"newRange":[[10,10],[10,11]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[10,11],[10,11]],"newRange":[[10,11],[10,12]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,12],[10,12]],"newRange":[[10,12],[10,13]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,13],[10,13]],"newRange":[[10,13],[10,14]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,14],[10,14]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,14],[10,14]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,14],[10,14]],"newRange":[[10,14],[10,15]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,15],[10,15]],"newRange":[[10,15],[10,16]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,16],[10,16]],"newRange":[[10,16],[10,17]],"oldText":"","newText":"v"}},{"type":"change","content":{"oldRange":[[10,17],[10,17]],"newRange":[[10,17],[10,18]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[10,18],[10,18]],"newRange":[[10,18],[10,19]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,19],[10,19]],"newRange":[[10,19],[10,20]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,20],[10,20]],"newRange":[[10,20],[10,21]],"oldText":"","newText":"s"}},{"type":"group-end","snapshot":{"0":{"range":[[10,21],[10,21]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,21],[10,21]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,21],[10,21]],"newRange":[[10,21],[10,22]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,22],[10,22]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,22],[10,22]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,22],[10,22]],"newRange":[[10,22],[10,23]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[10,23],[10,23]],"newRange":[[10,23],[10,24]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,24],[10,24]],"newRange":[[10,24],[10,25]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,25],[10,25]],"newRange":[[10,25],[10,26]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[10,26],[10,26]],"newRange":[[10,26],[10,27]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[10,27],[10,27]],"newRange":[[10,27],[10,28]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[10,28],[10,28]],"newRange":[[10,28],[10,29]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,29],[10,29]],"newRange":[[10,29],[10,30]],"oldText":"","newText":"t"}},{"type":"group-end","snapshot":{"0":{"range":[[10,30],[10,30]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,30],[10,30]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,29],[10,30]],"newRange":[[10,29],[10,29]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[10,28],[10,29]],"newRange":[[10,28],[10,28]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[10,27],[10,28]],"newRange":[[10,27],[10,27]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[10,26],[10,27]],"newRange":[[10,26],[10,26]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[10,25],[10,26]],"newRange":[[10,25],[10,25]],"oldText":"ä","newText":""}},{"type":"change","content":{"oldRange":[[10,24],[10,25]],"newRange":[[10,24],[10,24]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[10,23],[10,24]],"newRange":[[10,23],[10,23]],"oldText":"i","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,23],[10,23]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,23],[10,23]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,22],[10,23]],"newRange":[[10,22],[10,22]],"oldText":"s","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,22],[10,22]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,22],[10,22]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,22],[10,22]],"newRange":[[10,22],[10,23]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,23],[10,23]],"newRange":[[10,23],[10,24]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[10,24],[10,24]],"newRange":[[10,24],[10,25]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,25],[10,25]],"newRange":[[10,25],[10,26]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[10,26],[10,26]],"newRange":[[10,26],[10,27]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[10,27],[10,27]],"newRange":[[10,27],[10,28]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[10,28],[10,28]],"newRange":[[10,28],[10,29]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,29],[10,29]],"newRange":[[10,29],[10,30]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,30],[10,30]],"newRange":[[10,30],[10,31]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,31],[10,31]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,31],[10,31]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,31],[10,31]],"newRange":[[10,31],[10,32]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[10,32],[10,32]],"newRange":[[10,32],[10,33]],"oldText":"","newText":"r"}},{"type":"group-end","snapshot":{"0":{"range":[[10,33],[10,33]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,33],[10,33]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,33],[10,33]],"newRange":[[10,33],[10,34]],"oldText":"","newText":"ö"}},{"type":"change","content":{"oldRange":[[10,33],[10,34]],"newRange":[[10,33],[10,33]],"oldText":"ö","newText":""}},{"type":"change","content":{"oldRange":[[10,32],[10,33]],"newRange":[[10,32],[10,32]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[10,32],[10,32]],"newRange":[[10,32],[10,33]],"oldText":"","newText":"ö"}},{"type":"change","content":{"oldRange":[[10,33],[10,33]],"newRange":[[10,33],[10,34]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,34],[10,34]],"newRange":[[10,34],[10,35]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,35],[10,35]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,35],[10,35]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,35],[10,35]],"newRange":[[10,35],[10,36]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[10,36],[10,36]],"newRange":[[10,36],[10,37]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,37],[10,37]],"newRange":[[10,37],[10,38]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,38],[10,38]],"newRange":[[10,38],[10,39]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,39],[10,39]],"newRange":[[10,39],[10,40]],"oldText":"","newText":"a"}},{"type":"group-end","snapshot":{"0":{"range":[[10,40],[10,40]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,40],[10,40]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,40],[10,40]],"newRange":[[10,40],[10,41]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,41],[10,41]],"newRange":[[10,41],[10,42]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,42],[10,42]],"newRange":[[10,42],[10,43]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,42],[10,43]],"newRange":[[10,42],[10,42]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[10,41],[10,42]],"newRange":[[10,41],[10,41]],"oldText":"d","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,41],[10,41]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,41],[10,41]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,40],[10,41]],"newRange":[[10,40],[10,40]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[10,40],[10,40]],"newRange":[[10,40],[10,41]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,41],[10,41]],"newRange":[[10,41],[10,42]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[10,42],[10,42]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,42],[10,42]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,42],[10,42]],"newRange":[[10,42],[10,43]],"oldText":"","newText":","}},{"type":"change","content":{"oldRange":[[10,43],[10,43]],"newRange":[[10,43],[10,44]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,44],[10,44]],"newRange":[[10,44],[10,45]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,45],[10,45]],"newRange":[[10,45],[10,46]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[10,46],[10,46]],"newRange":[[10,46],[10,47]],"oldText":"","newText":"a"}},{"type":"group-end","snapshot":{"0":{"range":[[10,47],[10,47]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,47],[10,47]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,46],[10,47]],"newRange":[[10,46],[10,46]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[10,45],[10,46]],"newRange":[[10,45],[10,45]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[10,44],[10,45]],"newRange":[[10,44],[10,44]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[10,43],[10,44]],"newRange":[[10,43],[10,43]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[10,43],[10,43]],"newRange":[[10,43],[10,44]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[10,44],[10,44]],"newRange":[[10,44],[10,45]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,44],[10,45]],"newRange":[[10,44],[10,44]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[10,43],[10,44]],"newRange":[[10,43],[10,43]],"oldText":"s","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,43],[10,43]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,43],[10,43]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,43],[10,43]],"newRange":[[10,43],[10,44]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,44],[10,44]],"newRange":[[10,44],[10,45]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[10,45],[10,45]],"newRange":[[10,45],[10,46]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,46],[10,46]],"newRange":[[10,46],[10,47]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[10,47],[10,47]],"newRange":[[10,47],[10,48]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[10,48],[10,48]],"newRange":[[10,48],[10,49]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,49],[10,49]],"newRange":[[10,49],[10,50]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,50],[10,50]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,50],[10,50]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,50],[10,50]],"newRange":[[10,50],[10,51]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[10,51],[10,51]],"newRange":[[10,51],[10,52]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,52],[10,52]],"newRange":[[10,52],[10,53]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[10,53],[10,53]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,53],[10,53]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,53],[10,53]],"newRange":[[10,53],[10,54]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[10,54],[10,54]],"newRange":[[10,54],[10,55]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,55],[10,55]],"newRange":[[10,55],[10,56]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[10,56],[10,56]],"newRange":[[10,56],[10,57]],"oldText":"","newText":"s"}},{"type":"group-end","snapshot":{"0":{"range":[[10,57],[10,57]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,57],[10,57]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,57],[10,57]],"newRange":[[10,57],[10,58]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,58],[10,58]],"newRange":[[10,58],[10,59]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,59],[10,59]],"newRange":[[10,59],[10,60]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,60],[10,60]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,60],[10,60]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,60],[10,60]],"newRange":[[10,60],[10,61]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[10,61],[10,61]],"newRange":[[10,61],[10,62]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,62],[10,62]],"newRange":[[10,62],[10,63]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,63],[10,63]],"newRange":[[10,63],[10,64]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,64],[10,64]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,64],[10,64]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,64],[10,64]],"newRange":[[10,64],[10,65]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[10,65],[10,65]],"newRange":[[10,65],[10,66]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,66],[10,66]],"newRange":[[10,66],[10,67]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,67],[10,67]],"newRange":[[10,67],[10,68]],"oldText":"","newText":"e"}},{"type":"group-end","snapshot":{"0":{"range":[[10,68],[10,68]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,68],[10,68]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,68],[10,68]],"newRange":[[10,68],[11,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,1]],"oldText":"","newText":"\t"}},{"type":"group-end","snapshot":{"0":{"range":[[11,1],[11,1]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,1],[11,1]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,1],[11,1]],"newRange":[[11,1],[11,2]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[11,2],[11,2]],"newRange":[[11,2],[11,3]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[11,3],[11,3]],"newRange":[[11,3],[11,4]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[11,4],[11,4]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,4],[11,4]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,4],[11,4]],"newRange":[[11,4],[11,5]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[11,5],[11,5]],"newRange":[[11,5],[11,6]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[11,6],[11,6]],"newRange":[[11,6],[11,7]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[11,7],[11,7]],"newRange":[[11,7],[11,8]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[11,8],[11,8]],"newRange":[[11,8],[11,9]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[11,9],[11,9]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,9],[11,9]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,9],[11,9]],"newRange":[[11,9],[11,10]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[11,10],[11,10]],"newRange":[[11,10],[11,11]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[11,11],[11,11]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,11],[11,11]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,11],[11,11]],"newRange":[[11,11],[11,12]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[11,12],[11,12]],"newRange":[[11,12],[11,13]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[11,13],[11,13]],"newRange":[[11,13],[11,14]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[11,14],[11,14]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,14],[11,14]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,14],[11,14]],"newRange":[[11,14],[11,15]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[11,15],[11,15]],"newRange":[[11,15],[11,16]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[11,16],[11,16]],"newRange":[[11,16],[11,17]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[11,17],[11,17]],"newRange":[[11,17],[11,18]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[11,18],[11,18]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,18],[11,18]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,18],[11,18]],"newRange":[[11,18],[11,19]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[11,19],[11,19]],"newRange":[[11,19],[11,20]],"oldText":"","newText":"å"}},{"type":"change","content":{"oldRange":[[11,20],[11,20]],"newRange":[[11,20],[11,21]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[11,21],[11,21]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,21],[11,21]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,21],[11,21]],"newRange":[[11,21],[11,22]],"oldText":"","newText":"p"}},{"type":"group-end","snapshot":{"0":{"range":[[11,22],[11,22]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,22],[11,22]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,22],[11,22]],"newRange":[[11,22],[11,23]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[11,23],[11,23]],"newRange":[[11,23],[11,24]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[11,24],[11,24]],"newRange":[[11,24],[11,25]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[11,25],[11,25]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,25],[11,25]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,24],[11,25]],"newRange":[[11,24],[11,24]],"oldText":"n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[11,24],[11,24]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,24],[11,24]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,24],[11,24]],"newRange":[[11,24],[11,25]],"oldText":"","newText":":"}},{"type":"change","content":{"oldRange":[[11,25],[11,25]],"newRange":[[11,25],[11,26]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[11,26],[11,26]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[11,26],[11,26]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[11,26],[11,26]],"newRange":[[11,26],[11,27]],"oldText":"","newText":"."}},{"type":"group-end","snapshot":{"0":{"range":[[11,27],[11,27]],"properties":{"type":"selection","editorId":40,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/lab13/lab13e.c","digestWhenLastPersisted":"01aa606c6dcf471680b022905512d4a9398afea6","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"//Functions needed to control an LCD display\n//The program writes HELLO on a display\n//121117\n//Jonas F\n\n\n#define\t\tF_CPU\t16000000UL\t//16MHz\n#define \tCOL1 \t0x88\t//Col1 PD4, pin 4, 1000 1000, PD4 = 0\n#define \tCOL2 \t0x18\t//Col2 PD7, pin 6, 0001 1000, PD7 = 0\n#define \tCOL3 \t0x90\t//Col3 PD3, pin 1 (TXO), 1001 0000, PD3 = 0\n#define \tRS \t\t0\t\t//PD0\n#define \tRW \t\t1\t\t//PD1\n#define \tE \t\t6\t\t//PC6, moved from PC7 N/C\n#define\t\tdelay\t1\n\n#include \t<avr/io.h>\n#include\t<util/delay.h>\n#include\t<avr/interrupt.h>\n\n\n//Global\nint seconds;\n\nextern void wait(char);\nextern void wait_long(char);\nextern void no_operation(void);\n\n//Functions\nvoid init_pins(void);\nvoid send_nibble(char halfbyte);\nvoid send_instruction(char byte);\nvoid send_character(char byte);\nvoid init_LCD(void);\nvoid waithalfsecond(void);\nvoid wait_busyflag(void);\nvoid send_decimal(char number);\nvoid send_hexdigit(char number);\nvoid send_hex(char number);\nvoid send_to_display(char number);\nvoid shift_cursor_right(int times);\nvoid init_timer1();\nvoid set_OCRA(int sym);\nvoid set_TIMSK1();\n//End Functions\n\n\nvoid init_pins(void)\t{\n\tDDRD = 0xFF;\t//PD0-PD7 outputs\n\tPORTD = 0xFF;\t//PD0-PD7 HIGH\n\tDDRF = 0xF0;\t//PF4-PF7 outputs, data LCD, A3:A0\n\tDDRC = 0xF0;\t//PC4-PC7 outputs\n\tPORTC = 0x0F;\t//Outputs LOW, inputs pullup\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\n\tPORTB = 0xF0;\t//connect pullup resistors\n}\n\nvoid send_nibble(char halfbyte)\t{\n\tPORTF = halfbyte;\n\tPORTC |= (1 << E);//start pulse\n\twait(1);\t//pulse length 750 ns\n\tPORTC &=!(1 << E);  //end pulse\n}\n\nvoid send_instruction(char byte)\n{\n\twait_busyflag();\n\tPORTD &= ~(1 << RS);\n\tPORTD &= ~(1 << RW);\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\n\nvoid send_character(char byte)\n{\n\twait_busyflag();\n\tPORTD |= (1 << RS);\t//RS = 1, character\n\tPORTD &= ~(1 << RW);\t//RW =0\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\nvoid init_LCD(void)\t{\n\tPORTD &= ~(1 << RS);\t//RS=0\n\tsend_nibble(0x30);\n\twait_long(41); //wait 4,1 ms\n\tsend_nibble(0x30);\n\twait_long(1); //wait 100 us\n\tsend_nibble(0x30);\n\tsend_nibble(0x20);\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\n\tsend_instruction(0x28);\n\tsend_instruction(0x0F);\n\tsend_instruction(0x01);\n\twait_long(16);\n\tsend_instruction(0x06);\n}\n\nvoid waithalfsecond(void)\t{\n\tchar i;\n\ti = 25;\n\twhile (i)\n\t{\n\t\ti--;\n\t\twait_long(200);\n\t}\n}\n\nvoid wait_busyflag(void)\t{\n\tchar byte, dummy;\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\n\tPORTD |= (1<<RW);\t//RW = 1\n\tPORTD &= ~(1<<RS);\t//RS = 0\n\tdo\n\t{\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tdummy = PINF;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t}\n\twhile(byte);\n\tPORTD &= ~(1<<RW);\t//read from LCD\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\n}\n\nvoid send_decimal(char number)\t{\t//Sends a decimal to display\n\tsend_character(number/100 + 0x30);\n\tnumber %= 100;\n\tsend_character(number/10 + 0x30);\n\tsend_character(number % 10 + 0x30);\n}\n\nvoid send_hexdigit(char number)\t{\t//Sends a hex digit to display\n\tif(number > 0x39)\n\t\tnumber += 7;\n\tsend_character(number);\n}\n\nvoid send_hex(char number)\t{\t//Sends byte in hexd form to display\n\tchar temp;\n\ttemp = number/16 + 0x30;\n\tsend_hexdigit(temp);\n\ttemp = number % 16 + 0x30;\n\tsend_hexdigit(temp);\n}\n\nvoid send_to_display(char number) {\t\t//Sends a number to display in both dec and hex-form\n\tsend_instruction(0x80);\t//Place marker at pos 0, 1st row 1000 0000 (1rpp pppp)\n\tsend_decimal(number);\n\tshift_cursor_right(3);\t//Shift cursor 3 times right\n\tshift_cursor_right(3);\t//One more times\n\tsend_hex(number);\n}\n\nvoid shift_cursor_right(int times) {\n\twhile (times) {\n\t\tsend_instruction(0x14);\t//Move cursor right, 0001 0100\n\t\ttimes--;\n//\t\twaithalfsecond();\t//Debugin'\n\t}\n}\n\n//Set timer3 divider to 64, 16MHz/25 = 0.25MHz, mod 5\nvoid init_timer3() {\n\tTCCR3B &= (0b11101011);\t//Clear bit 2,4\n\tTCCR3B |= (0b00001011);\t//Set bit 0,1,3\n\tTCCR3A &= (0b11111101);\t//Clear bit 1\n\tTCCR3A |= (0b00000001);\t//Set bit 0\n\n}\n\n// Set PWM clear on match for timer3\nvoid set_pwm_timer3() {\n\tTCCR3A &= (0b10111111);\t//Clear bit 6\n\tTCCR3A |= (0b10000000);\t//Set bit 7\n}\n\n// Set timer1 divisor 256 and mode 4\nvoid init_timer1() {\n\tTCCR1B &= (0b11100000);\t//Clear bits 4:0\n\tTCCR1B |= (0b00001100);\t//Set bits 3:2 (01100)\n\tTCCR1A &= (0b11111100);\t//Clear bits 1:0\n}\n\n// Set compare reg. A\nvoid set_OCRA(int sym) {\n\t// OCR1A = (0xF424);\t// Set value 62.5k in comp.reg (62.5kHz)\n\tOCR3A = (sym);\t\t//Set value 255 in comp.reg 3A, 50% duty\n}\n\n// Enable match interrupt when flag is set\nvoid set_TIMSK1() {\n\tTIMSK1 = (0x2);\t// Set bit 1, enable output comp. A match interrupt\n}\n\nvoid init_AD() {\n\tADMUX = 0b01001001;\t\t//ADC0, ADC1 diff.in, 10x gain, ref VCC\n\tADCSRA |= 0b10100111;\t//Divisor f_c/128, bit 5 trigger, bit 7 activate\n\n}\n\n\nISR(TIMER1_COMPA_vect) {\n\tseconds++;\n\tif (seconds > 59) {\n\t\tseconds = 0;\n\t}\n\tsend_instruction(0xC0);\t//2nd row\n\tsend_decimal(seconds);\n\n}\n\nint main(void)\t{\n\tint byte = 0x0;\n\t// USBCON = 0;\t//Clear ALL the USBs\n\tinit_pins();\n\t// init_LCD();\n\t// init_timer1();\n\tinit_timer3();\n\tset_pwm_timer3();\n\tset_OCRA(byte);\n\t// set_TIMSK1();\n\t// sei();\n\t// seconds = 0;\n\tPORTD = COL1;\n\n\t// Increment duty cycle when pushing button\n\twhile (1) {\n\t\t_delay_ms(delay * 10);\t//\"Debounce\" 10ms\n\t\tno_operation();\n\t\tif (!(PINB & (1<<4))) {\n\t\t\tif (byte > 200)\n\t\t\t\tbyte = 0;\n\t\t\telse\n\t\t\t\tbyte = byte + 25;\n\n\t\t\tset_OCRA(byte);\n\n\t\t\tdo\n\t\t\t\tno_operation();\n\t\t\twhile(!(PINB & (1<<4)));\n\n\t\t}\n\t}\n}\n","markerStore":{"nextMarkerId":19,"markersById":{"0":{"range":{"start":{"row":5,"column":0},"end":{"row":5,"column":0}},"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":318,"undoStack":[{"type":"group-start","snapshot":{"0":{"range":[[5,18],[5,18]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,17],[5,18]],"newRange":[[5,17],[5,17]],"oldText":"3","newText":""}},{"type":"change","content":{"oldRange":[[5,17],[5,17]],"newRange":[[5,17],[5,18]],"oldText":"","newText":"4"}},{"type":"group-end","snapshot":{"0":{"range":[[5,18],[5,18]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,11],[5,11]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,10],[5,11]],"newRange":[[5,10],[5,10]],"oldText":"5","newText":""}},{"type":"change","content":{"oldRange":[[5,10],[5,10]],"newRange":[[5,10],[5,11]],"oldText":"","newText":"4"}},{"type":"group-end","snapshot":{"0":{"range":[[5,11],[5,11]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,18],[5,18]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,18],[5,18]],"newRange":[[5,18],[6,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[6,0],[6,0]],"newRange":[[6,0],[6,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[6,0],[6,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,0],[6,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,0],[6,0]],"newRange":[[6,0],[6,1]],"oldText":"","newText":"*"}},{"type":"change","content":{"oldRange":[[6,1],[6,1]],"newRange":[[6,1],[6,2]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[6,2],[6,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,2],[6,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,1],[6,2]],"newRange":[[6,1],[6,1]],"oldText":"/","newText":""}},{"type":"change","content":{"oldRange":[[6,0],[6,1]],"newRange":[[6,0],[6,0]],"oldText":"*","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[6,0],[6,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,0],[6,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,0],[6,0]],"newRange":[[6,0],[6,1]],"oldText":"","newText":"/"}},{"type":"change","content":{"oldRange":[[6,1],[6,1]],"newRange":[[6,1],[6,2]],"oldText":"","newText":"*"}},{"type":"group-end","snapshot":{"0":{"range":[[6,2],[6,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,2],[6,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,2],[6,2]],"newRange":[[6,2],[7,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[7,0],[7,0]],"newRange":[[7,0],[7,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,0],[7,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,0],[7,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,0],[7,0]],"newRange":[[7,0],[7,1]],"oldText":"","newText":"*"}},{"type":"change","content":{"oldRange":[[7,1],[7,1]],"newRange":[[7,1],[7,2]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[7,2],[7,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,2],[6,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,2],[6,2]],"newRange":[[6,2],[6,3]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,3],[6,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,3],[6,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,2],[6,3]],"newRange":[[6,2],[6,2]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[6,2],[6,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,2],[6,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,2],[6,2]],"newRange":[[6,2],[6,3]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,3],[6,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,3],[6,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,2],[6,3]],"newRange":[[6,2],[6,2]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[6,2],[6,2]],"newRange":[[6,2],[6,3]],"oldText":"","newText":"\t"}},{"type":"group-end","snapshot":{"0":{"range":[[6,3],[6,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,3],[6,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,3],[6,3]],"newRange":[[6,3],[6,4]],"oldText":"","newText":"P"}},{"type":"change","content":{"oldRange":[[6,4],[6,4]],"newRange":[[6,4],[6,5]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[6,5],[6,5]],"newRange":[[6,5],[6,6]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[6,6],[6,6]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,6],[6,6]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,6],[6,6]],"newRange":[[6,6],[6,7]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[6,7],[6,7]],"newRange":[[6,7],[6,8]],"oldText":"","newText":"r"}},{"type":"group-end","snapshot":{"0":{"range":[[6,8],[6,8]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,8],[6,8]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,8],[6,8]],"newRange":[[6,8],[6,9]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[6,9],[6,9]],"newRange":[[6,9],[6,10]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[6,10],[6,10]],"newRange":[[6,10],[6,11]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[6,11],[6,11]],"newRange":[[6,11],[6,12]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,12],[6,12]],"newRange":[[6,12],[6,13]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[6,13],[6,13]],"newRange":[[6,13],[6,14]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,14],[6,14]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[243,4],[243,4]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[243,3],[243,4]],"newRange":[[243,3],[243,3]],"oldText":"}","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[243,3],[243,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[241,9],[241,9]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[241,8],[241,9]],"newRange":[[241,8],[241,8]],"oldText":"{","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[241,8],[241,8]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[244,0],[244,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[243,3],[244,0]],"newRange":[[243,3],[243,3]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[243,3],[243,3]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[240,4],[240,4]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[240,3],[240,4]],"newRange":[[240,3],[240,3]],"oldText":"}","newText":""}},{"type":"change","content":{"oldRange":[[240,2],[240,3]],"newRange":[[240,2],[240,2]],"oldText":"\t","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[240,2],[240,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[240,2],[240,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[240,1],[240,2]],"newRange":[[240,1],[240,1]],"oldText":"\t","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[240,1],[240,1]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[240,1],[240,1]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[240,0],[240,1]],"newRange":[[240,0],[240,0]],"oldText":"\t","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[240,0],[240,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[240,0],[240,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[239,13],[240,0]],"newRange":[[239,13],[239,13]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[239,13],[239,13]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[238,20],[238,20]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[238,19],[238,20]],"newRange":[[238,19],[238,19]],"oldText":"{","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[238,19],[238,19]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[226,2],[226,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[226,1],[226,2]],"newRange":[[226,1],[226,1]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[226,1],[226,1]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[230,12],[230,12]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[242,0],[242,3]],"newRange":[[242,0],[242,0]],"oldText":"\t\t\t","newText":""}},{"type":"change","content":{"oldRange":[[240,7],[240,8]],"newRange":[[240,7],[240,7]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[238,18],[238,19]],"newRange":[[238,18],[238,18]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[6,13],[6,14]],"newRange":[[6,13],[6,13]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[230,12],[230,12]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[227,0],[227,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[226,16],[227,0]],"newRange":[[226,16],[226,16]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[226,16],[226,16]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,13],[6,13]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,12],[6,13]],"newRange":[[6,12],[6,12]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[6,11],[6,12]],"newRange":[[6,11],[6,11]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[6,10],[6,11]],"newRange":[[6,10],[6,10]],"oldText":"m","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[6,10],[6,10]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,10],[6,10]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,10],[6,10]],"newRange":[[6,10],[6,11]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[6,11],[6,11]],"newRange":[[6,11],[6,12]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,12],[6,12]],"newRange":[[6,12],[6,13]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[6,13],[6,13]],"newRange":[[6,13],[6,14]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,14],[6,14]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,14],[6,14]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,14],[6,14]],"newRange":[[6,14],[6,15]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[6,15],[6,15]],"newRange":[[6,15],[6,16]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[6,16],[6,16]],"newRange":[[6,16],[6,17]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[6,17],[6,17]],"newRange":[[6,17],[6,18]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,18],[6,18]],"newRange":[[6,18],[6,19]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[6,19],[6,19]],"newRange":[[6,19],[6,20]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[6,20],[6,20]],"newRange":[[6,20],[6,21]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[6,21],[6,21]],"newRange":[[6,21],[6,22]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[6,22],[6,22]],"newRange":[[6,22],[6,23]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,23],[6,23]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,23],[6,23]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,23],[6,23]],"newRange":[[6,23],[6,24]],"oldText":"","newText":"A"}},{"type":"change","content":{"oldRange":[[6,24],[6,24]],"newRange":[[6,24],[6,25]],"oldText":"","newText":"D"}},{"type":"change","content":{"oldRange":[[6,25],[6,25]],"newRange":[[6,25],[6,26]],"oldText":"","newText":"C"}},{"type":"group-end","snapshot":{"0":{"range":[[6,26],[6,26]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,26],[6,26]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,26],[6,26]],"newRange":[[6,26],[6,27]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[6,27],[6,27]],"newRange":[[6,27],[6,28]],"oldText":"","newText":"v"}},{"type":"change","content":{"oldRange":[[6,28],[6,28]],"newRange":[[6,28],[6,29]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[6,29],[6,29]],"newRange":[[6,29],[6,30]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[6,30],[6,30]],"newRange":[[6,30],[6,31]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[6,31],[6,31]],"newRange":[[6,31],[6,32]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,32],[6,32]],"newRange":[[6,32],[6,33]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,33],[6,33]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,33],[6,33]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,33],[6,33]],"newRange":[[6,33],[6,34]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[6,34],[6,34]],"newRange":[[6,34],[6,35]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[6,35],[6,35]],"newRange":[[6,35],[6,36]],"oldText":"","newText":"å"}},{"type":"change","content":{"oldRange":[[6,36],[6,36]],"newRange":[[6,36],[6,37]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[6,37],[6,37]],"newRange":[[6,37],[6,38]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[6,38],[6,38]],"newRange":[[6,38],[6,39]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[6,39],[6,39]],"newRange":[[6,39],[6,40]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,40],[6,40]],"newRange":[[6,40],[6,41]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[6,41],[6,41]],"newRange":[[6,41],[6,42]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,42],[6,42]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,42],[6,42]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,42],[6,42]],"newRange":[[6,42],[6,43]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[6,43],[6,43]],"newRange":[[6,43],[6,44]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[6,44],[6,44]],"newRange":[[6,44],[6,45]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[6,45],[6,45]],"newRange":[[6,45],[6,46]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,46],[6,46]],"newRange":[[6,46],[6,47]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[6,47],[6,47]],"newRange":[[6,47],[6,48]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[6,48],[6,48]],"newRange":[[6,48],[6,49]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[6,49],[6,49]],"newRange":[[6,49],[6,50]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,50],[6,50]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,50],[6,50]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,50],[6,50]],"newRange":[[6,50],[6,51]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[6,51],[6,51]],"newRange":[[6,51],[6,52]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,52],[6,52]],"newRange":[[6,52],[6,53]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[6,53],[6,53]],"newRange":[[6,53],[6,54]],"oldText":"","newText":"p"}},{"type":"group-end","snapshot":{"0":{"range":[[6,54],[6,54]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,54],[6,54]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,54],[6,54]],"newRange":[[6,54],[6,55]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[6,55],[6,55]],"newRange":[[6,55],[6,56]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,56],[6,56]],"newRange":[[6,56],[6,57]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[6,57],[6,57]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,57],[6,57]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,57],[6,57]],"newRange":[[6,57],[6,58]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[6,58],[6,58]],"newRange":[[6,58],[6,59]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[6,59],[6,59]],"newRange":[[6,59],[6,60]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[6,60],[6,60]],"newRange":[[6,60],[6,61]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[6,61],[6,61]],"newRange":[[6,61],[6,62]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[6,62],[6,62]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,62],[6,62]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,62],[6,62]],"newRange":[[6,62],[6,63]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,63],[6,63]],"newRange":[[6,63],[6,64]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[6,64],[6,64]],"newRange":[[6,64],[6,65]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[6,65],[6,65]],"newRange":[[6,65],[6,66]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,66],[6,66]],"newRange":[[6,66],[6,67]],"oldText":"","newText":"r"}},{"type":"group-end","snapshot":{"0":{"range":[[6,67],[6,67]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,67],[6,67]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,67],[6,67]],"newRange":[[6,67],[6,68]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[6,68],[6,68]],"newRange":[[6,68],[6,69]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[6,69],[6,69]],"newRange":[[6,69],[6,70]],"oldText":"","newText":"m"}},{"type":"group-end","snapshot":{"0":{"range":[[6,70],[6,70]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,70],[6,70]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,70],[6,70]],"newRange":[[6,70],[7,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[7,0],[7,0]],"newRange":[[7,0],[7,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,0],[7,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,0],[7,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,0],[7,0]],"newRange":[[7,0],[7,1]],"oldText":"","newText":"\t"}},{"type":"group-end","snapshot":{"0":{"range":[[7,1],[7,1]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,1],[7,1]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,1],[7,1]],"newRange":[[7,1],[7,2]],"oldText":"","newText":"p"}},{"type":"group-end","snapshot":{"0":{"range":[[7,2],[7,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,2],[7,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,2],[7,2]],"newRange":[[7,2],[7,3]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[7,3],[7,3]],"newRange":[[7,3],[7,4]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[7,4],[7,4]],"newRange":[[7,4],[7,5]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[7,5],[7,5]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,5],[7,5]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,5],[7,5]],"newRange":[[7,5],[7,6]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[7,6],[7,6]],"newRange":[[7,6],[7,7]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[7,7],[7,7]],"newRange":[[7,7],[7,8]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[7,8],[7,8]],"newRange":[[7,8],[7,9]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,9],[7,9]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,9],[7,9]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,8],[7,9]],"newRange":[[7,8],[7,8]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[7,7],[7,8]],"newRange":[[7,7],[7,7]],"oldText":"n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,7],[7,7]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,7],[7,7]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,6],[7,7]],"newRange":[[7,6],[7,6]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[7,5],[7,6]],"newRange":[[7,5],[7,5]],"oldText":"s","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,5],[7,5]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,5],[7,5]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,4],[7,5]],"newRange":[[7,4],[7,4]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[7,4],[7,4]],"newRange":[[7,4],[7,5]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[7,5],[7,5]],"newRange":[[7,5],[7,6]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[7,6],[7,6]],"newRange":[[7,6],[7,7]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[7,7],[7,7]],"newRange":[[7,7],[7,8]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,8],[7,8]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,8],[7,8]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,8],[7,8]],"newRange":[[7,8],[7,9]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[7,9],[7,9]],"newRange":[[7,9],[7,10]],"oldText":"","newText":"ö"}},{"type":"change","content":{"oldRange":[[7,10],[7,10]],"newRange":[[7,10],[7,11]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,11],[7,11]],"newRange":[[7,11],[7,12]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,12],[7,12]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,12],[7,12]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,12],[7,12]],"newRange":[[7,12],[7,13]],"oldText":"","newText":"A"}},{"type":"change","content":{"oldRange":[[7,13],[7,13]],"newRange":[[7,13],[7,14]],"oldText":"","newText":"D"}},{"type":"change","content":{"oldRange":[[7,14],[7,14]],"newRange":[[7,14],[7,15]],"oldText":"","newText":"="}},{"type":"group-end","snapshot":{"0":{"range":[[7,15],[7,15]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,15],[7,15]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,14],[7,15]],"newRange":[[7,14],[7,14]],"oldText":"=","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,14],[7,14]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,14],[7,14]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,14],[7,14]],"newRange":[[7,14],[7,15]],"oldText":"","newText":"C"}},{"type":"change","content":{"oldRange":[[7,15],[7,15]],"newRange":[[7,15],[7,16]],"oldText":"","newText":"="}},{"type":"group-end","snapshot":{"0":{"range":[[7,16],[7,16]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,16],[7,16]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,16],[7,16]],"newRange":[[7,16],[7,17]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,17],[7,17]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,17],[7,17]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,16],[7,17]],"newRange":[[7,16],[7,16]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,16],[7,16]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,16],[7,16]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,15],[7,16]],"newRange":[[7,15],[7,15]],"oldText":"=","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,15],[7,15]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,15],[7,15]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,15],[7,15]],"newRange":[[7,15],[7,16]],"oldText":"","newText":"0"}},{"type":"group-end","snapshot":{"0":{"range":[[7,16],[7,16]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,16],[7,16]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,16],[7,16]],"newRange":[[7,16],[7,17]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,17],[7,17]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,17],[7,17]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,17],[7,17]],"newRange":[[7,17],[7,18]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[7,18],[7,18]],"newRange":[[7,18],[7,19]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[7,19],[7,19]],"newRange":[[7,19],[7,20]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[7,20],[7,20]],"newRange":[[7,20],[7,21]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,21],[7,21]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,21],[7,21]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,21],[7,21]],"newRange":[[7,21],[7,22]],"oldText":"","newText":"A"}},{"type":"change","content":{"oldRange":[[7,22],[7,22]],"newRange":[[7,22],[7,23]],"oldText":"","newText":"D"}},{"type":"change","content":{"oldRange":[[7,23],[7,23]],"newRange":[[7,23],[7,24]],"oldText":"","newText":"C"}},{"type":"group-end","snapshot":{"0":{"range":[[7,24],[7,24]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,24],[7,24]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,24],[7,24]],"newRange":[[7,24],[7,25]],"oldText":"","newText":"1"}},{"type":"change","content":{"oldRange":[[7,25],[7,25]],"newRange":[[7,25],[7,26]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,26],[7,26]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,26],[7,26]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,26],[7,26]],"newRange":[[7,26],[7,27]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[7,27],[7,27]],"newRange":[[7,27],[7,28]],"oldText":"","newText":"v"}},{"type":"change","content":{"oldRange":[[7,28],[7,28]],"newRange":[[7,28],[7,29]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,29],[7,29]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,29],[7,29]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,29],[7,29]],"newRange":[[7,29],[7,30]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[7,30],[7,30]],"newRange":[[7,30],[7,31]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,31],[7,31]],"newRange":[[7,31],[7,32]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[7,31],[7,32]],"newRange":[[7,31],[7,31]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[7,30],[7,31]],"newRange":[[7,30],[7,30]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[7,29],[7,30]],"newRange":[[7,29],[7,29]],"oldText":"ä","newText":""}},{"type":"change","content":{"oldRange":[[7,28],[7,29]],"newRange":[[7,28],[7,28]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[7,27],[7,28]],"newRange":[[7,27],[7,27]],"oldText":"v","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,27],[7,27]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,27],[7,27]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,27],[7,27]],"newRange":[[7,27],[7,28]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,28],[7,28]],"newRange":[[7,28],[7,29]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,29],[7,29]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,29],[7,29]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,28],[7,29]],"newRange":[[7,28],[7,28]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[7,27],[7,28]],"newRange":[[7,27],[7,27]],"oldText":"r","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,27],[7,27]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,27],[7,27]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,27],[7,27]],"newRange":[[7,27],[7,28]],"oldText":"","newText":"j"}},{"type":"change","content":{"oldRange":[[7,28],[7,28]],"newRange":[[7,28],[7,29]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,29],[7,29]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,29],[7,29]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,29],[7,29]],"newRange":[[7,29],[7,30]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[7,30],[7,30]],"newRange":[[7,30],[7,31]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,31],[7,31]],"newRange":[[7,31],[7,32]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,32],[7,32]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,32],[7,32]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,32],[7,32]],"newRange":[[7,32],[7,33]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[7,33],[7,33]],"newRange":[[7,33],[7,34]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,34],[7,34]],"newRange":[[7,34],[7,35]],"oldText":"","newText":"a"}},{"type":"group-end","snapshot":{"0":{"range":[[7,35],[7,35]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,35],[7,35]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,35],[7,35]],"newRange":[[7,35],[7,36]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[7,36],[7,36]],"newRange":[[7,36],[7,37]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[7,37],[7,37]],"newRange":[[7,37],[7,38]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,38],[7,38]],"newRange":[[7,38],[7,39]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[7,39],[7,39]],"newRange":[[7,39],[7,40]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[7,40],[7,40]],"newRange":[[7,40],[7,41]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[7,41],[7,41]],"newRange":[[7,41],[7,42]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[7,42],[7,42]],"newRange":[[7,42],[7,43]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[7,43],[7,43]],"newRange":[[7,43],[7,44]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[7,44],[7,44]],"newRange":[[7,44],[7,45]],"oldText":"","newText":"å"}},{"type":"change","content":{"oldRange":[[7,45],[7,45]],"newRange":[[7,45],[7,46]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,46],[7,46]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,46],[7,46]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,46],[7,46]],"newRange":[[7,46],[7,47]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[7,47],[7,47]],"newRange":[[7,47],[7,48]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,48],[7,48]],"newRange":[[7,48],[7,49]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[7,49],[7,49]],"newRange":[[7,49],[7,50]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[7,50],[7,50]],"newRange":[[7,50],[7,51]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[7,51],[7,51]],"newRange":[[7,51],[7,52]],"oldText":"","newText":"i"}},{"type":"group-end","snapshot":{"0":{"range":[[7,52],[7,52]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,52],[7,52]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,52],[7,52]],"newRange":[[7,52],[7,53]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[7,53],[7,53]],"newRange":[[7,53],[7,54]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,54],[7,54]],"newRange":[[7,54],[7,55]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[7,55],[7,55]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,55],[7,55]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,54],[7,55]],"newRange":[[7,54],[7,54]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[7,53],[7,54]],"newRange":[[7,53],[7,53]],"oldText":"r","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[7,53],[7,53]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,53],[7,53]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,52],[7,53]],"newRange":[[7,52],[7,52]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[7,52],[7,52]],"newRange":[[7,52],[7,53]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[7,53],[7,53]],"newRange":[[7,53],[7,54]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[7,54],[7,54]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,54],[7,54]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,54],[7,54]],"newRange":[[7,54],[7,55]],"oldText":"","newText":","}},{"type":"change","content":{"oldRange":[[7,55],[7,55]],"newRange":[[7,55],[7,56]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,56],[7,56]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,56],[7,56]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,56],[7,56]],"newRange":[[7,56],[7,57]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[7,57],[7,57]],"newRange":[[7,57],[7,58]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[7,58],[7,58]],"newRange":[[7,58],[7,59]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,59],[7,59]],"newRange":[[7,59],[7,60]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[7,60],[7,60]],"newRange":[[7,60],[7,61]],"oldText":"","newText":"ö"}},{"type":"change","content":{"oldRange":[[7,61],[7,61]],"newRange":[[7,61],[7,62]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[7,62],[7,62]],"newRange":[[7,62],[7,63]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[7,63],[7,63]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,63],[7,63]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,63],[7,63]],"newRange":[[7,63],[7,64]],"oldText":"","newText":"v"}},{"type":"change","content":{"oldRange":[[7,64],[7,64]],"newRange":[[7,64],[7,65]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[7,65],[7,65]],"newRange":[[7,65],[7,66]],"oldText":"","newText":"r"}},{"type":"group-end","snapshot":{"0":{"range":[[7,66],[7,66]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[7,66],[7,66]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[7,66],[7,66]],"newRange":[[7,66],[8,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[8,0],[8,0]],"newRange":[[8,0],[8,1]],"oldText":"","newText":"\t"}},{"type":"group-end","snapshot":{"0":{"range":[[8,1],[8,1]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,1],[8,1]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,1],[8,1]],"newRange":[[8,1],[8,2]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[8,2],[8,2]],"newRange":[[8,2],[8,3]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[8,3],[8,3]],"newRange":[[8,3],[8,4]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[8,4],[8,4]],"newRange":[[8,4],[8,5]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[8,5],[8,5]],"newRange":[[8,5],[8,6]],"oldText":"","newText":"e"}},{"type":"group-end","snapshot":{"0":{"range":[[8,6],[8,6]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,6],[8,6]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,6],[8,6]],"newRange":[[8,6],[8,7]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[8,7],[8,7]],"newRange":[[8,7],[8,8]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,8],[8,8]],"newRange":[[8,8],[8,9]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[8,9],[8,9]],"newRange":[[8,9],[8,10]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[8,10],[8,10]],"newRange":[[8,10],[8,11]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[8,11],[8,11]],"newRange":[[8,11],[8,12]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,12],[8,12]],"newRange":[[8,12],[8,13]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,13],[8,13]],"newRange":[[8,13],[8,14]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,14],[8,14]],"newRange":[[8,14],[8,15]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[8,15],[8,15]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,15],[8,15]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,15],[8,15]],"newRange":[[8,15],[8,16]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[8,16],[8,16]],"newRange":[[8,16],[8,17]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[8,17],[8,17]],"newRange":[[8,17],[8,18]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[8,18],[8,18]],"newRange":[[8,18],[8,19]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[8,19],[8,19]],"newRange":[[8,19],[8,20]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[8,20],[8,20]],"newRange":[[8,20],[8,21]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[8,21],[8,21]],"newRange":[[8,21],[8,22]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[8,22],[8,22]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,22],[8,22]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,22],[8,22]],"newRange":[[8,22],[8,23]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[8,23],[8,23]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,23],[8,23]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,23],[8,23]],"newRange":[[8,23],[8,24]],"oldText":"","newText":"m"}},{"type":"group-end","snapshot":{"0":{"range":[[8,24],[8,24]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,24],[8,24]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,24],[8,24]],"newRange":[[8,24],[8,25]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[8,25],[8,25]],"newRange":[[8,25],[8,26]],"oldText":"","newText":"j"}},{"type":"change","content":{"oldRange":[[8,26],[8,26]],"newRange":[[8,26],[8,27]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,27],[8,27]],"newRange":[[8,27],[8,28]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[8,28],[8,28]],"newRange":[[8,28],[8,29]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[8,29],[8,29]],"newRange":[[8,29],[8,30]],"oldText":"","newText":"g"}},{"type":"group-end","snapshot":{"0":{"range":[[8,30],[8,30]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,30],[8,30]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,29],[8,30]],"newRange":[[8,29],[8,29]],"oldText":"g","newText":""}},{"type":"change","content":{"oldRange":[[8,28],[8,29]],"newRange":[[8,28],[8,28]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[8,27],[8,28]],"newRange":[[8,27],[8,27]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[8,26],[8,27]],"newRange":[[8,26],[8,26]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[8,25],[8,26]],"newRange":[[8,25],[8,25]],"oldText":"j","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[8,25],[8,25]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,25],[8,25]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,24],[8,25]],"newRange":[[8,24],[8,24]],"oldText":"ä","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[8,24],[8,24]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,24],[8,24]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,24],[8,24]],"newRange":[[8,24],[8,25]],"oldText":"","newText":"ö"}},{"type":"change","content":{"oldRange":[[8,25],[8,25]],"newRange":[[8,25],[8,26]],"oldText":"","newText":"j"}},{"type":"change","content":{"oldRange":[[8,26],[8,26]],"newRange":[[8,26],[8,27]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,27],[8,27]],"newRange":[[8,27],[8,28]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[8,28],[8,28]],"newRange":[[8,28],[8,29]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[8,29],[8,29]],"newRange":[[8,29],[8,30]],"oldText":"","newText":"."}},{"type":"group-end","snapshot":{"0":{"range":[[8,30],[8,30]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[9,2]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[9,2]],"newRange":[[5,0],[5,0]],"oldText":"//Uppgift 4 lab 14\n/*\tProgrammet läser in ADC-värde från den interna tempsensorn eftersom\n\tpinsen för ADC0 och ADC1 ej är framdragna på pro mico, därför var\n\tdifferentiell mäting omöjlig.\n*/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":44,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/lab14/lab14.c","digestWhenLastPersisted":"fb885958edde377665793f3e88ac5df471da0913","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"//Functions needed to control an LCD display\r\n//The program writes HELLO on a display\r\n//121117\r\n//Jonas F\r\n\r\n//Uppgift 4 lab 14\r\n/*\tProgrammet läser in ADC-värde från den interna tempsensorn eftersom\r\n\tpinsen för ADC0 och ADC1 ej är framdragna på pro mico, därför var\r\n\tdifferentiell mäting omöjlig.\r\n*/\r\n\r\n#include <avr/io.h>\r\n\r\n#define \tCOL1 \t0b10001000\r\n#define \tCOL2 \t0b00011000\r\n#define \tCOL3 \t0b10010000\r\n#define \tRS \t\t0\r\n#define \tRW\t\t1\r\n#define \tE \t\t6\r\n\r\nextern void wait(char);\r\nextern void wait_long(char);\r\nextern void no_operation(void);\r\n\r\n#define TEXT_LENGTH\t\t4\r\n\r\nint GREETING [TEXT_LENGTH] ={'T','e','m','p'};\r\nvoid init_pins(void)\r\n{\r\n\tDDRD = 0xFF;\t//PD4-PD7 outputs\r\n\tPORTD = 0xFF;\r\n\tDDRF = 0xF0;\t//PF4-PF7 outputs\r\n\tDDRC = 0xF0;\t//PC6 and PC7 outputs\r\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\r\n\tPORTB = 0xF0;\t//connect pullup resistors\r\n\tPORTC = 0x0F;\r\n}\r\n\r\n\r\nvoid wait_busyflag(void)\r\n{\r\n\tchar byte;\r\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\r\n\tPORTD |= (1<<RW);\t//RW = 1\r\n\tPORTD &= ~(1<<RS);\t//RS = 0\r\n\tdo\r\n\t{\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t}\r\n\twhile(byte);\r\n\tPORTD &= ~(1<<RW);\t//read from LCD\r\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\r\n}\r\n\r\n\r\nvoid send_nibble(char halfbyte)\r\n{\r\n\tPORTF = halfbyte;\r\n\tPORTC |= (1 << E);//start pulse\r\n\twait(1);\t//pulse length 750 ns\r\n\tPORTC &=!(1 << E);  //end pulse\r\n}\r\n\r\nvoid send_instruction(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD &= ~(1 << RS);\r\n\tPORTD &= ~(1 << RW);\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid send_character(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD |= (1 << RS);\t//RS = 1, character\r\n\tPORTD &= ~(1 << RW);\t//RW =0\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid init_LCD(void)\r\n{\r\n\tPORTD &= ~(1 << RS);\t//RS=0\r\n\tsend_nibble(0x30);\r\n\twait_long(41); //wait 4,1 ms\r\n\tsend_nibble(0x30);\r\n\twait_long(1); //wait 100 us\r\n\tsend_nibble(0x30);\r\n\tsend_nibble(0x20);\r\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\r\n\tsend_instruction(0x28);\r\n\tsend_instruction(0x0F);\r\n\tsend_instruction(0x01);\r\n\twait_long(16);\r\n\tsend_instruction(0x06);\r\n}\r\n/*\r\n:\r\n:\tInitiates internal temp sensor as a single-ended input\r\n:\r\n*/\r\nvoid initAD()\r\n{\r\n\tADMUX =\t\t0b11100111; // Sets internal 2.56 v reference (7-6) 5 left-adjust, 2-0 MUX4:0 (internal temp sensor)\r\n\r\n\tADCSRB |=\t0b00100000; //MSB of temp sensor is set (MUX5)\r\n\tADCSRA =\t0b10100111; //Decoding speed (2-0, 62.5kHz) 5: auto trigger, 7 enactivable.\r\n}\r\nvoid disableDigitalPortF()\r\n{\r\n\tDIDR0 |= 0b00000011;\r\n}\r\n\r\nvoid startAD()\r\n{\r\n\tADCSRA |= 0b01000000;\r\n}\r\n\r\nvoid outputToLCD(int text[],int length)\r\n{\r\n\r\n\tfor (int i = 0; i < TEXT_LENGTH; i++)\r\n\tsend_character(text[i]);\r\n}\r\nvoid writeToR2C6()\r\n{\r\n\tsend_instruction(0xC6);\r\n}\r\nvoid writeToR2C1()\r\n{\r\n\tsend_instruction(0xC0);\r\n}\r\nvoid writeTempType(char c)\r\n{\r\n\twriteToR2C6();\r\n\tsend_character(0xDF);\r\n\tsend_character(c);\r\n}\r\n\r\nint isKey4Active()\r\n{\r\n\treturn !(PINB & 0b00100000);\r\n}\r\n\r\nint isKey1Active()\r\n{\r\n\treturn !(PINB & 0b00010000);\r\n}\r\n\r\nvoid sendTempType(int d)\r\n{\r\n\twriteToR2C6();\r\n}\r\nvoid sendTemp(int t,int type)\r\n{\r\n\twriteToR2C1();\r\n\r\n\tif(type)\r\n\t\treturn writeTemp(t*9/5+320);\r\n\twriteTemp(t);\r\n}\r\nvoid writeTemp(int t)\r\n{\r\n\tint n = 0x30;\r\n\tsend_character(t/100 + n);\r\n\tsend_character((t%=100)/10 + n);\r\n\tsend_character(',');\r\n\tsend_character(t%10 + n);\r\n}\r\n\r\nuint8_t checkTemp( uint8_t tempType )\r\n{\r\n\tif(isKey1Active())\r\n\t{\r\n\t\twriteTempType('C');\r\n\t\ttempType = 0;\r\n\t\twhile(isKey1Active());\r\n\t}\r\n\telse if (isKey4Active())\r\n\t{\r\n\t\twriteTempType('F');\r\n\t\ttempType = 1;\r\n\t\twhile(isKey4Active());\r\n\t}\treturn tempType;\r\n}\r\n\r\nvoid setTimer1()\r\n{\r\n\t//Set timer1 divisor to 256\r\n\tTCCR1B &= 0b11100000;\r\n\tTCCR1B |= 0b00001100;\r\n\tTCCR1A &= 0b11111100;\r\n}\r\n// Set value 62.5k in comp.reg (62.5kHz)\r\n\r\nvoid setCompareRegister()\r\n{\r\n\r\n\tOCR1A = (0xF424);\r\n}\r\n\r\nint main(void)\r\n{\r\n\tsetTimer1();\r\n\r\n\tsetCompareRegister();\r\n\r\n\r\n\tuint8_t tempType = 0;\r\n\tint ADresult = 242;\r\n\r\n\tinit_pins();\r\n\tinit_LCD();\r\n\r\n\tinitAD();\r\n\tdisableDigitalPortF();\r\n\tstartAD();\r\n\r\n\toutputToLCD(GREETING,TEXT_LENGTH);\r\n\r\n\twriteTempType('C');\r\n\tsend_instruction(0x0C); //Turn off cursor\r\n\r\n\tPORTD = COL1;\r\n\tfor(;;)\r\n\t{\r\n\t\ttempType = checkTemp(tempType);\r\n\t\tsendTemp(ADresult,tempType);\r\n\r\n\t\tif(TIFR1 & 0b00000010)\r\n\t\t{\r\n\t\t\tTIFR1 &= 02;\r\n\t\t\tADresult = ADCL;\r\n\t\t\t//ADresult = ADCH*0x100;\r\n\t\t\tADresult += ADCH;\r\n\t\t\t//ADresult *= (int) 0.977;\r\n\t\t}\r\n\r\n\t}\r\n}\r\n","markerStore":{"nextMarkerId":2,"markersById":{"0":{"range":{"start":{"row":8,"column":30},"end":{"row":8,"column":30}},"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":50,"undoStack":[{"type":"group-start","snapshot":{"0":{"range":[[3,9],[3,9]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[3,9],[3,9]],"newRange":[[3,9],[4,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[5,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[9,2]],"oldText":"","newText":"//Uppgift 4 lab 14\n/*\tProgrammet läser in ADC-värde från den interna tempsensorn eftersom\n\tpinsen för ADC0 och ADC1 ej är framdragna på pro mico, därför var\n\tdifferentiell mäting omöjlig.\n*/"}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[9,2],[9,2]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[9,2],[9,2]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[9,2],[9,2]],"newRange":[[9,2],[10,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,0],[10,0]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,30],[8,30]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,30],[8,30]],"newRange":[[8,30],[9,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,1]],"oldText":"","newText":"\t"}},{"type":"group-end","snapshot":{"0":{"range":[[9,1],[9,1]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[9,1],[9,1]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[9,1],[9,1]],"newRange":[[9,1],[10,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,1]],"oldText":"","newText":"\t"}},{"type":"change","content":{"oldRange":[[9,0],[9,1]],"newRange":[[9,0],[9,0]],"oldText":"\t","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,1],[10,1]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,1],[10,1]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,1],[10,1]],"newRange":[[10,1],[10,2]],"oldText":"","newText":"M"}},{"type":"change","content":{"oldRange":[[10,2],[10,2]],"newRange":[[10,2],[10,3]],"oldText":"","newText":"ä"}},{"type":"change","content":{"oldRange":[[10,3],[10,3]],"newRange":[[10,3],[10,4]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,4],[10,4]],"newRange":[[10,4],[10,5]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,5],[10,5]],"newRange":[[10,5],[10,6]],"oldText":"","newText":"n"}},{"type":"group-end","snapshot":{"0":{"range":[[10,6],[10,6]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,6],[10,6]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,6],[10,6]],"newRange":[[10,6],[10,7]],"oldText":"","newText":"g"}},{"type":"group-end","snapshot":{"0":{"range":[[10,7],[10,7]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,7],[10,7]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,6],[10,7]],"newRange":[[10,6],[10,6]],"oldText":"g","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,6],[10,6]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,6],[10,6]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,6],[10,6]],"newRange":[[10,6],[10,7]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[10,7],[10,7]],"newRange":[[10,7],[10,8]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,8],[10,8]],"newRange":[[10,8],[10,9]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,9],[10,9]],"newRange":[[10,9],[10,10]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[10,10],[10,10]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,10],[10,10]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[10,9],[10,10]],"newRange":[[10,9],[10,9]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[10,8],[10,9]],"newRange":[[10,8],[10,8]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[10,7],[10,8]],"newRange":[[10,7],[10,7]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[10,6],[10,7]],"newRange":[[10,6],[10,6]],"oldText":"g","newText":""}},{"type":"change","content":{"oldRange":[[10,5],[10,6]],"newRange":[[10,5],[10,5]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[10,4],[10,5]],"newRange":[[10,4],[10,4]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[10,3],[10,4]],"newRange":[[10,3],[10,3]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[10,2],[10,3]],"newRange":[[10,2],[10,2]],"oldText":"ä","newText":""}},{"type":"change","content":{"oldRange":[[10,1],[10,2]],"newRange":[[10,1],[10,1]],"oldText":"M","newText":""}},{"type":"change","content":{"oldRange":[[10,0],[10,1]],"newRange":[[10,0],[10,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[9,0],[10,0]],"newRange":[[9,0],[9,0]],"oldText":"\r\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[9,0],[9,0]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[9,0],[9,0]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,30],[9,0]],"newRange":[[8,30],[8,30]],"oldText":"\r\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[8,30],[8,30]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[8,30],[8,30]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[246,0],[246,1]],"newRange":[[246,0],[246,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[244,29],[244,33]],"newRange":[[244,29],[244,29]],"oldText":"\t\t\t\t","newText":""}},{"type":"change","content":{"oldRange":[[237,0],[237,2]],"newRange":[[237,0],[237,0]],"oldText":"\t\t","newText":""}},{"type":"change","content":{"oldRange":[[234,2],[234,3]],"newRange":[[234,2],[234,2]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[231,0],[231,1]],"newRange":[[231,0],[231,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[228,0],[228,1]],"newRange":[[228,0],[228,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[226,0],[226,1]],"newRange":[[226,0],[226,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[224,23],[224,24]],"newRange":[[224,23],[224,23]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[222,0],[222,1]],"newRange":[[222,0],[222,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[219,0],[219,1]],"newRange":[[219,0],[219,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[216,0],[216,1]],"newRange":[[216,0],[216,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[207,18],[207,19]],"newRange":[[207,18],[207,18]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[206,0],[206,1]],"newRange":[[206,0],[206,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[204,25],[204,26]],"newRange":[[204,25],[204,25]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[195,16],[195,17]],"newRange":[[195,16],[195,16]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[179,37],[179,38]],"newRange":[[179,37],[179,37]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[167,30],[167,31]],"newRange":[[167,30],[167,30]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[165,0],[165,1]],"newRange":[[165,0],[165,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[148,18],[148,19]],"newRange":[[148,18],[148,18]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[135,24],[135,25]],"newRange":[[135,24],[135,24]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[129,0],[129,1]],"newRange":[[129,0],[129,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[119,21],[119,22]],"newRange":[[119,21],[119,21]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[113,0],[113,1]],"newRange":[[113,0],[113,0]],"oldText":"\t","newText":""}},{"type":"change","content":{"oldRange":[[248,1],[248,1]],"newRange":[[248,1],[249,0]],"oldText":"","newText":"\n"}},{"type":"group-end","snapshot":{"0":{"range":[[8,30],[8,30]],"properties":{"type":"selection","editorId":48,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Fr macke/Desktop/Lab14a.c","digestWhenLastPersisted":"da87e76c53266549931a822bc065c5968142679b","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"//Functions needed to control an LCD display\r\n//and a keyboard\r\n//121117\r\n//Jonas F\r\n#include <avr/io.h>\r\n#include <avr/interrupt.h>\r\n\r\n#define \tCOL1 \t0b10001000\r\n#define \tCOL2 \t0b00011000\r\n#define \tCOL3 \t0b10010000\r\n\r\n#define \tRS \t0\r\n#define \tRW \t1\r\n#define \tE \t6\r\n\r\nint _interruptCounter = 2;\r\n\r\nextern void wait(char);\r\nextern void wait_long(char);\r\nextern void no_operation(void);\r\n\r\n\r\nvoid init_pins(void)\r\n{\r\n\tDDRD = 0xFF;\t//PD4-PD7 outputs\r\n\tPORTD = 0xFF;\r\n\tDDRF = 0xF0;\t//PF4-PF7 outputs\r\n\tDDRC = 0xF0;\t//PC6 and PC7 outputs\r\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\r\n\tPORTB = 0xF0;\t//connect pullup resistors\r\n\tPORTC = 0x0F;\r\n}\r\n\r\nvoid wait_busyflag(void)\r\n{\r\n\tchar byte;\r\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\r\n\tPORTD |= (1<<RW);\t//RW = 1\r\n\tPORTD &= ~(1<<RS);\t//RS = 0\r\n\tdo\r\n\t{\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t}\r\n\twhile(byte);\r\n\tPORTD &= ~(1<<RW);\t//read from LCD\r\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\r\n}\r\n\r\n\r\nvoid send_nibble(char halfbyte)\r\n{\r\n\tPORTF = halfbyte;\r\n\tPORTC |= (1 << E);//start pulse\r\n\twait(1);\t//pulse length 750 ns\r\n\tPORTC &=!(1 << E);  //end pulse\r\n}\r\n\r\nvoid send_instruction(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD &= ~(1 << RS);\r\n\tPORTD &= ~(1 << RW);\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid send_character(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD |= (1 << RS);\t//RS = 1, character\r\n\tPORTD &= ~(1 << RW);\t//RW =0\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid init_LCD(void)\r\n{\r\n\tPORTD &= ~(1 << RS);\t//RS=0\r\n\tsend_nibble(0x30);\r\n\twait_long(41); //wait 4,1 ms\r\n\tsend_nibble(0x30);\r\n\twait_long(1); //wait 100 us\r\n\tsend_nibble(0x30);\r\n\tsend_nibble(0x20);\r\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\r\n\tsend_instruction(0x28);\r\n\tsend_instruction(0x0F);\r\n\tsend_instruction(0x01);\r\n\twait_long(16);\r\n\tsend_instruction(0x06);\r\n}\r\n\r\nvoid init_PCINT0(void)\r\n{\r\n\tPCICR = 0b00000001;\t//activate PCINT\r\n\tPCMSK0 = 0b11110000;\t//activate for PB4 � PB7\r\n\tasm(\"SEI\");\t\t//set global interrupt bit\r\n}\r\n\r\nchar convert(char code)\r\n{\r\n\tswitch(code)\r\n\t{\r\n\t\tcase 184: return('4');\r\n\t\tcase 232: return('C');\r\n\t\tcase 225: return('D');\r\n\t\tcase 233: return('E');\r\n\t\tcase 216: return('8');\r\n\t\tcase 209: return('9');\r\n\t\tcase 217: return('A');\r\n\t\tcase 177: return('5');\r\n\t\tcase 185: return('6');\r\n\t\tdefault: return ('X');\r\n\t}\r\n\r\n}\r\n\r\nvoid clearScreen()\r\n{\r\n\tPORTD &= 0b11111100;\r\n\tsend_instruction(1);\r\n}\r\n\r\nISR(PCINT0_vect)\r\n{\r\n\tchar SREG_temp, key;\r\n\tSREG_temp = SREG;\t//store SREG\r\n\twait_long(250);\t\t//wait 25 ms\r\n\tasm(\"NOP\");\t\t//This is frankly retarded after the previous call...\r\n\tasm(\"NOP\");\r\n\tkey = PINB;\t//get PBIN\r\n\tkey &= 0xF0;\t//reset bits 0 � 3\r\n\tif(key != 0xF0)\t//a key is activated\r\n\t{\r\n\r\n\t\tkey |= (PORTD>>4);\t//include info about column\r\n\t\tkey = convert(key);\t//convert key code\r\n\t\tsend_character(key);\r\n\t}\r\n\tif(key == 'D')\t//converted key value\r\n\t{\r\n\t\tsend_instruction(0x10);\r\n\t\tsend_character(' ');\r\n\t\tsend_instruction(0x10);\r\n\t}\r\n\telse if(key == 'C')\t//converted key value\r\n\t\tclearScreen();\r\n\r\n\tdo\r\n\t{\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t}\r\n\twhile((PINB & 0xF0) != 0xF0);\r\n\twait_long(250);\t//to avoid key bounces\r\n\tSREG = SREG_temp;\r\n}\r\n\r\n\r\nvoid initUSART()\r\n{\r\n\tUBRR1L = 103;\t//Set baudrate to 9600\r\n\tUCSR1B = 03;\r\n\r\n}\r\n\r\nint main(void)\r\n{\r\n\tTCCR1B = 0b00001010; //2-0:Sets timer /8,4-3:mode\r\n\tTCCR1A = 0b00000000; //1-0:Continued mode setting -> 2MHz\r\n\r\n\tOCR1A = 20000; // Compared to timer register for a 10ms interrupt\r\n\r\n\tTIMSK1 = 0x2; //Enable output compare 1a (match interrupt)\r\n\r\n\tUSBCON = 0;\r\n\tinit_pins();\r\n\tinit_LCD();\r\n\tinit_PCINT0();\r\n\twhile (1){\r\n\t\twhile(!(UCSR1A & 0b00100000))\r\n\t\t\tUDR1 = 0x7F;\r\n\t}\r\n}\r\n\r\nISR(TIMER1_COMPA_vect)\r\n{\r\n\tif(_interruptCounter > 3)\r\n\t\t_interruptCounter = 0;\r\n\r\n\tswitch(_interruptCounter)\r\n\t{\r\n\t\tcase(1):\r\n\t\t{\r\n\t\t\tPORTD = COL1;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase(2):\r\n\t\t{\r\n\t\t\tPORTD = COL2;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase(3):\r\n\t\t{\r\n\t\t\tPORTD = COL3;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t_interruptCounter ++;\r\n\r\n}\r\n","markerStore":{"nextMarkerId":13,"markersById":{"0":{"range":{"start":{"row":190,"column":15},"end":{"row":190,"column":15}},"properties":{"type":"selection","editorId":52,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab15/Lab16a.c","digestWhenLastPersisted":"0a23f4e906cba11477113218d75f093712bbc1ff","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"//Functions needed to control an LCD display\r\n//and a keyboard\r\n//121117\r\n//Jonas F\r\n\r\n//Programmet skriver ut till, och tar emot data från, en bluetooth modul\r\n\r\n#include <avr/io.h>\r\n#include <avr/interrupt.h>\r\n#include <avr/delay.h>\r\n\r\n#define \tCOL1 \t0b10001000\r\n#define \tCOL2 \t0b00011000\r\n#define \tCOL3 \t0b10010000\r\n\r\n#define \tRS \t0\r\n#define \tRW \t1\r\n#define \tE \t6\r\n\r\nint _interruptCounter = 2;\r\n\r\nextern void wait(char);\r\nextern void wait_long(char);\r\nextern void no_operation(void);\r\n\r\n\r\nvoid init_pins(void)\r\n{\r\n\tDDRD = 0xFF;\t//PD0-PD7 outputs\r\n\tPORTD = 0xFB;\t//PD0-PD7 HIGH\r\n\tDDRF = 0xF0;\t//PF4-PF7 outputs, data LCD, A3:A0\r\n\tDDRC = 0xF0;\t//PC4-PC7 outputs\r\n\tPORTC = 0x0F;\t//Outputs LOW, inputs pullup\r\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\r\n\tPORTB = 0xF0;\t//connect pullup resistors\r\n}\r\n\r\nvoid send_nibble(char halfbyte)\t{\r\n\tPORTF = halfbyte;\r\n\tPORTC |= (1 << E);//start pulse\r\n\twait(1);\t//pulse length 750 ns\r\n\tPORTC &=!(1 << E);  //end pulse\r\n}\r\n\r\nvoid send_instruction(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD &= ~(1 << RS);\r\n\tPORTD &= ~(1 << RW);\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid send_character(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD |= (1 << RS);\t//RS = 1, character\r\n\tPORTD &= ~(1 << RW);\t//RW =0\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\nvoid init_LCD(void)\t{\r\n\tPORTD &= ~(1 << RS);\t//RS=0\r\n\tsend_nibble(0x30);\r\n\twait_long(41); //wait 4,1 ms\r\n\tsend_nibble(0x30);\r\n\twait_long(1); //wait 100 us\r\n\tsend_nibble(0x30);\r\n\tsend_nibble(0x20);\r\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\r\n\tsend_instruction(0x28);\r\n\tsend_instruction(0x0F);\r\n\tsend_instruction(0x01);\r\n\twait_long(16);\r\n\tsend_instruction(0x06);\r\n}\r\n\r\nvoid waithalfsecond(void)\t{\r\n\tchar i;\r\n\ti = 25;\r\n\twhile (i)\r\n\t{\r\n\t\ti--;\r\n\t\twait_long(200);\r\n\t}\r\n}\r\n\r\nvoid wait_busyflag(void)\t{\r\n\tchar byte, dummy;\r\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\r\n\tPORTD |= (1<<RW);\t//RW = 1\r\n\tPORTD &= ~(1<<RS);\t//RS = 0\r\n\tdo\r\n\t{\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tdummy = PINF;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t}\r\n\twhile(byte);\r\n\tPORTD &= ~(1<<RW);\t//read from LCD\r\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\r\n}\r\n\r\nvoid send_decimal(char number)\t{\t//Sends a decimal to display\r\n\tsend_character(number/100 + 0x30);\r\n\tnumber %= 100;\r\n\tsend_character(number/10 + 0x30);\r\n\tsend_character(number % 10 + 0x30);\r\n}\r\n\r\nvoid send_hexdigit(char number)\t{\t//Sends a hex digit to display\r\n\tif(number > 0x39)\r\n\t\tnumber += 7;\r\n\tsend_character(number);\r\n}\r\n\r\nvoid send_hex(char number)\t{\t//Sends byte in hexd form to display\r\n\tchar temp;\r\n\ttemp = number/16 + 0x30;\r\n\tsend_hexdigit(temp);\r\n\ttemp = number % 16 + 0x30;\r\n\tsend_hexdigit(temp);\r\n}\r\n\r\nvoid send_to_display(char number) {\t\t//Sends a number to display in both dec and hex-form\r\n\tsend_instruction(0x80);\t//Place marker at pos 0, 1st row 1000 0000 (1rpp pppp)\r\n\tsend_decimal(number);\r\n\tshift_cursor_right(3);\t//Shift cursor 3 times right\r\n\tshift_cursor_right(3);\t//One more times\r\n\tsend_hex(number);\r\n}\r\n\r\nvoid shift_cursor_right(int times) {\r\n\twhile (times) {\r\n\t\tsend_instruction(0x14);\t//Move cursor right, 0001 0100\r\n\t\ttimes--;\r\n//\t\twaithalfsecond();\t//Debugin'\r\n\t}\r\n}\r\n\r\n\r\nvoid initUSART()\r\n{\r\n\tUBRR1L = 103;\t//Set baudrate to 9600\r\n\tUCSR1B = 0b00011000;\t//Rx & Tx en\r\n\r\n}\r\n\r\nint main(void)\r\n{\r\n\tUSBCON = 0;\r\n\tinit_pins();\r\n\tinitUSART();\r\n\tinit_LCD();\r\n//\tinit_PCINT0();\r\n\tchar rxByte = 0;\r\n\twhile (1){\r\n\t\tif(rxByte) {\r\n\t\t\tsend_character(rxByte);\r\n\t\t\trxByte = 0;\r\n\t\t}\r\n\t\t// if((UCSR1A & 0b00100000))\r\n\t\t\t// UDR1 = 'i';\r\n\t\t if (UCSR1A & 0b10000000)\r\n\t\t\trxByte = UDR1;\r\n\t_delay_ms(3000);\r\n\t}\r\n}\r\n","markerStore":{"nextMarkerId":93,"markersById":{"0":{"range":{"start":{"row":10,"column":0},"end":{"row":10,"column":0}},"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":300,"undoStack":[{"type":"group-start","snapshot":{"0":{"range":[[3,9],[3,9]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[3,9],[3,9]],"newRange":[[3,9],[4,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[5,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,1]],"oldText":"","newText":"&"}},{"type":"change","content":{"oldRange":[[5,1],[5,1]],"newRange":[[5,1],[5,2]],"oldText":"","newText":"|"}},{"type":"group-end","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,1],[5,2]],"newRange":[[5,1],[5,1]],"oldText":"|","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,1]],"newRange":[[5,0],[5,0]],"oldText":"&","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,1]],"oldText":"","newText":"|"}},{"type":"change","content":{"oldRange":[[5,1],[5,1]],"newRange":[[5,1],[5,2]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,1],[5,2]],"newRange":[[5,1],[5,1]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[5,0],[5,1]],"newRange":[[5,0],[5,0]],"oldText":"|","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,1]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,1],[5,1]],"newRange":[[5,1],[5,2]],"oldText":"","newText":"\\"}},{"type":"group-end","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,1],[5,2]],"newRange":[[5,1],[5,1]],"oldText":"\\","newText":""}},{"type":"change","content":{"oldRange":[[5,0],[5,1]],"newRange":[[5,0],[5,0]],"oldText":"&","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,1]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,1]],"newRange":[[5,0],[5,0]],"oldText":"&","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,1]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,1],[5,1]],"newRange":[[5,1],[5,2]],"oldText":"","newText":"&"}},{"type":"change","content":{"oldRange":[[5,2],[5,2]],"newRange":[[5,2],[5,3]],"oldText":"","newText":"&"}},{"type":"change","content":{"oldRange":[[5,3],[5,3]],"newRange":[[5,3],[5,4]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[5,4],[5,4]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,4],[5,4]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,3],[5,4]],"newRange":[[5,3],[5,3]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[5,2],[5,3]],"newRange":[[5,2],[5,2]],"oldText":"&","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,1],[5,2]],"newRange":[[5,1],[5,1]],"oldText":"&","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,1]],"newRange":[[5,0],[5,0]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[5,0]],"newRange":[[4,0],[4,0]],"oldText":"\r\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,1]],"oldText":"","newText":"&"}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,1]],"newRange":[[4,0],[4,0]],"oldText":"&","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,1]],"oldText":"","newText":"7"}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":"7"}},{"type":"group-end","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":"7","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,1]],"newRange":[[4,0],[4,0]],"oldText":"7","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[0,0],[173,0]],"newRange":[[0,0],[173,0]],"oldText":"//Functions needed to control an LCD display\r\n//and a keyboard\r\n//121117\r\n//Jonas F\r\n\r\n#include <avr/io.h>\r\n#include <avr/interrupt.h>\r\n#include <avr/delay.h>\r\n\r\n#define \tCOL1 \t0b10001000\r\n#define \tCOL2 \t0b00011000\r\n#define \tCOL3 \t0b10010000\r\n\r\n#define \tRS \t0\r\n#define \tRW \t1\r\n#define \tE \t6\r\n\r\nint _interruptCounter = 2;\r\n\r\nextern void wait(char);\r\nextern void wait_long(char);\r\nextern void no_operation(void);\r\n\r\n\r\nvoid init_pins(void)\r\n{\r\n\tDDRD = 0xFF;\t//PD0-PD7 outputs\r\n\tPORTD = 0xFB;\t//PD0-PD7 HIGH\r\n\tDDRF = 0xF0;\t//PF4-PF7 outputs, data LCD, A3:A0\r\n\tDDRC = 0xF0;\t//PC4-PC7 outputs\r\n\tPORTC = 0x0F;\t//Outputs LOW, inputs pullup\r\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\r\n\tPORTB = 0xF0;\t//connect pullup resistors\r\n}\r\n\r\nvoid send_nibble(char halfbyte)\t{\r\n\tPORTF = halfbyte;\r\n\tPORTC |= (1 << E);//start pulse\r\n\twait(1);\t//pulse length 750 ns\r\n\tPORTC &=!(1 << E);  //end pulse\r\n}\r\n\r\nvoid send_instruction(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD &= ~(1 << RS);\r\n\tPORTD &= ~(1 << RW);\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid send_character(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD |= (1 << RS);\t//RS = 1, character\r\n\tPORTD &= ~(1 << RW);\t//RW =0\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\nvoid init_LCD(void)\t{\r\n\tPORTD &= ~(1 << RS);\t//RS=0\r\n\tsend_nibble(0x30);\r\n\twait_long(41); //wait 4,1 ms\r\n\tsend_nibble(0x30);\r\n\twait_long(1); //wait 100 us\r\n\tsend_nibble(0x30);\r\n\tsend_nibble(0x20);\r\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\r\n\tsend_instruction(0x28);\r\n\tsend_instruction(0x0F);\r\n\tsend_instruction(0x01);\r\n\twait_long(16);\r\n\tsend_instruction(0x06);\r\n}\r\n\r\nvoid waithalfsecond(void)\t{\r\n\tchar i;\r\n\ti = 25;\r\n\twhile (i)\r\n\t{\r\n\t\ti--;\r\n\t\twait_long(200);\r\n\t}\r\n}\r\n\r\nvoid wait_busyflag(void)\t{\r\n\tchar byte, dummy;\r\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\r\n\tPORTD |= (1<<RW);\t//RW = 1\r\n\tPORTD &= ~(1<<RS);\t//RS = 0\r\n\tdo\r\n\t{\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tdummy = PINF;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t}\r\n\twhile(byte);\r\n\tPORTD &= ~(1<<RW);\t//read from LCD\r\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\r\n}\r\n\r\nvoid send_decimal(char number)\t{\t//Sends a decimal to display\r\n\tsend_character(number/100 + 0x30);\r\n\tnumber %= 100;\r\n\tsend_character(number/10 + 0x30);\r\n\tsend_character(number % 10 + 0x30);\r\n}\r\n\r\nvoid send_hexdigit(char number)\t{\t//Sends a hex digit to display\r\n\tif(number > 0x39)\r\n\t\tnumber += 7;\r\n\tsend_character(number);\r\n}\r\n\r\nvoid send_hex(char number)\t{\t//Sends byte in hexd form to display\r\n\tchar temp;\r\n\ttemp = number/16 + 0x30;\r\n\tsend_hexdigit(temp);\r\n\ttemp = number % 16 + 0x30;\r\n\tsend_hexdigit(temp);\r\n}\r\n\r\nvoid send_to_display(char number) {\t\t//Sends a number to display in both dec and hex-form\r\n\tsend_instruction(0x80);\t//Place marker at pos 0, 1st row 1000 0000 (1rpp pppp)\r\n\tsend_decimal(number);\r\n\tshift_cursor_right(3);\t//Shift cursor 3 times right\r\n\tshift_cursor_right(3);\t//One more times\r\n\tsend_hex(number);\r\n}\r\n\r\nvoid shift_cursor_right(int times) {\r\n\twhile (times) {\r\n\t\tsend_instruction(0x14);\t//Move cursor right, 0001 0100\r\n\t\ttimes--;\r\n//\t\twaithalfsecond();\t//Debugin'\r\n\t}\r\n}\r\n\r\n\r\nvoid initUSART()\r\n{\r\n\tUBRR1L = 103;\t//Set baudrate to 9600\r\n\tUCSR1B = 0b00011000;\t//Rx & Tx en\r\n\r\n}\r\n\r\nint main(void)\r\n{\r\n\tUSBCON = 0;\r\n\tinit_pins();\r\n\tinitUSART();\r\n\tinit_LCD();\r\n//\tinit_PCINT0();\r\n\tchar rxByte = 0;\r\n\twhile (1){\r\n\t\tif(rxByte) {\r\n\t\t\tsend_character(rxByte);\r\n\t\t\trxByte = 0;\r\n\t\t}\r\n\t\t// if((UCSR1A & 0b00100000))\r\n\t\t\t// UDR1 = 'i';\r\n\t\t if (UCSR1A & 0b10000000)\r\n\t\t\trxByte = UDR1;\r\n\t_delay_ms(3000);\r\n\t}\r\n}\r\n","newText":"//Functions needed to control an LCD display\n//and a keyboard\n//121117\n//Jonas F\n\n#include <avr/io.h>\n#include <avr/interrupt.h>\n#include <avr/delay.h>\n\n#define \tCOL1 \t0b10001000\n#define \tCOL2 \t0b00011000\n#define \tCOL3 \t0b10010000\n\n#define \tRS \t0\n#define \tRW \t1\n#define \tE \t6\n\nint _interruptCounter = 2;\n\nextern void wait(char);\nextern void wait_long(char);\nextern void no_operation(void);\n\n\nvoid init_pins(void)\n{\n\tDDRD = 0xFF;\t//PD0-PD7 outputs\n\tPORTD = 0xFB;\t//PD0-PD7 HIGH\n\tDDRF = 0xF0;\t//PF4-PF7 outputs, data LCD, A3:A0\n\tDDRC = 0xF0;\t//PC4-PC7 outputs\n\tPORTC = 0x0F;\t//Outputs LOW, inputs pullup\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\n\tPORTB = 0xF0;\t//connect pullup resistors\n}\n\nvoid send_nibble(char halfbyte)\t{\n\tPORTF = halfbyte;\n\tPORTC |= (1 << E);//start pulse\n\twait(1);\t//pulse length 750 ns\n\tPORTC &=!(1 << E);  //end pulse\n}\n\nvoid send_instruction(char byte)\n{\n\twait_busyflag();\n\tPORTD &= ~(1 << RS);\n\tPORTD &= ~(1 << RW);\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\n\nvoid send_character(char byte)\n{\n\twait_busyflag();\n\tPORTD |= (1 << RS);\t//RS = 1, character\n\tPORTD &= ~(1 << RW);\t//RW =0\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\nvoid init_LCD(void)\t{\n\tPORTD &= ~(1 << RS);\t//RS=0\n\tsend_nibble(0x30);\n\twait_long(41); //wait 4,1 ms\n\tsend_nibble(0x30);\n\twait_long(1); //wait 100 us\n\tsend_nibble(0x30);\n\tsend_nibble(0x20);\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\n\tsend_instruction(0x28);\n\tsend_instruction(0x0F);\n\tsend_instruction(0x01);\n\twait_long(16);\n\tsend_instruction(0x06);\n}\n\nvoid waithalfsecond(void)\t{\n\tchar i;\n\ti = 25;\n\twhile (i)\n\t{\n\t\ti--;\n\t\twait_long(200);\n\t}\n}\n\nvoid wait_busyflag(void)\t{\n\tchar byte, dummy;\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\n\tPORTD |= (1<<RW);\t//RW = 1\n\tPORTD &= ~(1<<RS);\t//RS = 0\n\tdo\n\t{\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tdummy = PINF;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t}\n\twhile(byte);\n\tPORTD &= ~(1<<RW);\t//read from LCD\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\n}\n\nvoid send_decimal(char number)\t{\t//Sends a decimal to display\n\tsend_character(number/100 + 0x30);\n\tnumber %= 100;\n\tsend_character(number/10 + 0x30);\n\tsend_character(number % 10 + 0x30);\n}\n\nvoid send_hexdigit(char number)\t{\t//Sends a hex digit to display\n\tif(number > 0x39)\n\t\tnumber += 7;\n\tsend_character(number);\n}\n\nvoid send_hex(char number)\t{\t//Sends byte in hexd form to display\n\tchar temp;\n\ttemp = number/16 + 0x30;\n\tsend_hexdigit(temp);\n\ttemp = number % 16 + 0x30;\n\tsend_hexdigit(temp);\n}\n\nvoid send_to_display(char number) {\t\t//Sends a number to display in both dec and hex-form\n\tsend_instruction(0x80);\t//Place marker at pos 0, 1st row 1000 0000 (1rpp pppp)\n\tsend_decimal(number);\n\tshift_cursor_right(3);\t//Shift cursor 3 times right\n\tshift_cursor_right(3);\t//One more times\n\tsend_hex(number);\n}\n\nvoid shift_cursor_right(int times) {\n\twhile (times) {\n\t\tsend_instruction(0x14);\t//Move cursor right, 0001 0100\n\t\ttimes--;\n//\t\twaithalfsecond();\t//Debugin'\n\t}\n}\n\n\nvoid initUSART()\n{\n\tUBRR1L = 103;\t//Set baudrate to 9600\n\tUCSR1B = 0b00011000;\t//Rx & Tx en\n\n}\n\nint main(void)\n{\n\tUSBCON = 0;\n\tinit_pins();\n\tinitUSART();\n\tinit_LCD();\n//\tinit_PCINT0();\n\tchar rxByte = 0;\n\twhile (1){\n\t\tif(rxByte) {\n\t\t\tsend_character(rxByte);\n\t\t\trxByte = 0;\n\t\t}\n\t\t// if((UCSR1A & 0b00100000))\n\t\t\t// UDR1 = 'i';\n\t\t if (UCSR1A & 0b10000000)\n\t\t\trxByte = UDR1;\n\t_delay_ms(3000);\n\t}\n}\n"}},{"type":"group-end","snapshot":{"0":{"range":[[173,0],[173,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,1]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[4,1],[4,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,1],[4,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,1]],"newRange":[[4,0],[4,0]],"oldText":"&","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,1]],"oldText":"","newText":"&"}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":"&"}},{"type":"change","content":{"oldRange":[[4,2],[4,2]],"newRange":[[4,2],[4,3]],"oldText":"","newText":"&"}},{"type":"change","content":{"oldRange":[[4,3],[4,3]],"newRange":[[4,3],[4,4]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[4,4],[4,4]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,4],[4,4]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,3],[4,4]],"newRange":[[4,3],[4,3]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[4,2],[4,3]],"newRange":[[4,2],[4,2]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,1]],"newRange":[[4,0],[4,0]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,1]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[4,2],[4,2]],"newRange":[[4,2],[4,3]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[4,3],[4,3]],"newRange":[[4,3],[4,4]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[4,4],[4,4]],"newRange":[[4,4],[4,5]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[4,4],[4,5]],"newRange":[[4,4],[4,4]],"oldText":"g","newText":""}},{"type":"change","content":{"oldRange":[[4,3],[4,4]],"newRange":[[4,3],[4,3]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[4,2],[4,3]],"newRange":[[4,2],[4,2]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":"g","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,1]],"newRange":[[4,0],[4,0]],"oldText":"f","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,1]],"oldText":"","newText":";"}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":";"}},{"type":"change","content":{"oldRange":[[4,2],[4,2]],"newRange":[[4,2],[4,3]],"oldText":"","newText":";"}},{"type":"change","content":{"oldRange":[[4,2],[4,3]],"newRange":[[4,2],[4,2]],"oldText":";","newText":""}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":";","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,1]],"newRange":[[4,0],[4,0]],"oldText":";","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[0,0],[173,0]],"newRange":[[0,0],[173,0]],"oldText":"//Functions needed to control an LCD display\n//and a keyboard\n//121117\n//Jonas F\n\n#include <avr/io.h>\n#include <avr/interrupt.h>\n#include <avr/delay.h>\n\n#define \tCOL1 \t0b10001000\n#define \tCOL2 \t0b00011000\n#define \tCOL3 \t0b10010000\n\n#define \tRS \t0\n#define \tRW \t1\n#define \tE \t6\n\nint _interruptCounter = 2;\n\nextern void wait(char);\nextern void wait_long(char);\nextern void no_operation(void);\n\n\nvoid init_pins(void)\n{\n\tDDRD = 0xFF;\t//PD0-PD7 outputs\n\tPORTD = 0xFB;\t//PD0-PD7 HIGH\n\tDDRF = 0xF0;\t//PF4-PF7 outputs, data LCD, A3:A0\n\tDDRC = 0xF0;\t//PC4-PC7 outputs\n\tPORTC = 0x0F;\t//Outputs LOW, inputs pullup\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\n\tPORTB = 0xF0;\t//connect pullup resistors\n}\n\nvoid send_nibble(char halfbyte)\t{\n\tPORTF = halfbyte;\n\tPORTC |= (1 << E);//start pulse\n\twait(1);\t//pulse length 750 ns\n\tPORTC &=!(1 << E);  //end pulse\n}\n\nvoid send_instruction(char byte)\n{\n\twait_busyflag();\n\tPORTD &= ~(1 << RS);\n\tPORTD &= ~(1 << RW);\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\n\nvoid send_character(char byte)\n{\n\twait_busyflag();\n\tPORTD |= (1 << RS);\t//RS = 1, character\n\tPORTD &= ~(1 << RW);\t//RW =0\n\tsend_nibble(byte);\n\tsend_nibble(byte<<4);\n}\nvoid init_LCD(void)\t{\n\tPORTD &= ~(1 << RS);\t//RS=0\n\tsend_nibble(0x30);\n\twait_long(41); //wait 4,1 ms\n\tsend_nibble(0x30);\n\twait_long(1); //wait 100 us\n\tsend_nibble(0x30);\n\tsend_nibble(0x20);\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\n\tsend_instruction(0x28);\n\tsend_instruction(0x0F);\n\tsend_instruction(0x01);\n\twait_long(16);\n\tsend_instruction(0x06);\n}\n\nvoid waithalfsecond(void)\t{\n\tchar i;\n\ti = 25;\n\twhile (i)\n\t{\n\t\ti--;\n\t\twait_long(200);\n\t}\n}\n\nvoid wait_busyflag(void)\t{\n\tchar byte, dummy;\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\n\tPORTD |= (1<<RW);\t//RW = 1\n\tPORTD &= ~(1<<RS);\t//RS = 0\n\tdo\n\t{\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t\tPORTC |= (1<<E);\t//show contents of LCD\n\t\tasm(\"NOP\");\n\t\tasm(\"NOP\");\n\t\tdummy = PINF;\t//MSB of byte is busyflag\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\n\t}\n\twhile(byte);\n\tPORTD &= ~(1<<RW);\t//read from LCD\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\n}\n\nvoid send_decimal(char number)\t{\t//Sends a decimal to display\n\tsend_character(number/100 + 0x30);\n\tnumber %= 100;\n\tsend_character(number/10 + 0x30);\n\tsend_character(number % 10 + 0x30);\n}\n\nvoid send_hexdigit(char number)\t{\t//Sends a hex digit to display\n\tif(number > 0x39)\n\t\tnumber += 7;\n\tsend_character(number);\n}\n\nvoid send_hex(char number)\t{\t//Sends byte in hexd form to display\n\tchar temp;\n\ttemp = number/16 + 0x30;\n\tsend_hexdigit(temp);\n\ttemp = number % 16 + 0x30;\n\tsend_hexdigit(temp);\n}\n\nvoid send_to_display(char number) {\t\t//Sends a number to display in both dec and hex-form\n\tsend_instruction(0x80);\t//Place marker at pos 0, 1st row 1000 0000 (1rpp pppp)\n\tsend_decimal(number);\n\tshift_cursor_right(3);\t//Shift cursor 3 times right\n\tshift_cursor_right(3);\t//One more times\n\tsend_hex(number);\n}\n\nvoid shift_cursor_right(int times) {\n\twhile (times) {\n\t\tsend_instruction(0x14);\t//Move cursor right, 0001 0100\n\t\ttimes--;\n//\t\twaithalfsecond();\t//Debugin'\n\t}\n}\n\n\nvoid initUSART()\n{\n\tUBRR1L = 103;\t//Set baudrate to 9600\n\tUCSR1B = 0b00011000;\t//Rx & Tx en\n\n}\n\nint main(void)\n{\n\tUSBCON = 0;\n\tinit_pins();\n\tinitUSART();\n\tinit_LCD();\n//\tinit_PCINT0();\n\tchar rxByte = 0;\n\twhile (1){\n\t\tif(rxByte) {\n\t\t\tsend_character(rxByte);\n\t\t\trxByte = 0;\n\t\t}\n\t\t// if((UCSR1A & 0b00100000))\n\t\t\t// UDR1 = 'i';\n\t\t if (UCSR1A & 0b10000000)\n\t\t\trxByte = UDR1;\n\t_delay_ms(3000);\n\t}\n}\n","newText":"//Functions needed to control an LCD display\r\n//and a keyboard\r\n//121117\r\n//Jonas F\r\n\r\n#include <avr/io.h>\r\n#include <avr/interrupt.h>\r\n#include <avr/delay.h>\r\n\r\n#define \tCOL1 \t0b10001000\r\n#define \tCOL2 \t0b00011000\r\n#define \tCOL3 \t0b10010000\r\n\r\n#define \tRS \t0\r\n#define \tRW \t1\r\n#define \tE \t6\r\n\r\nint _interruptCounter = 2;\r\n\r\nextern void wait(char);\r\nextern void wait_long(char);\r\nextern void no_operation(void);\r\n\r\n\r\nvoid init_pins(void)\r\n{\r\n\tDDRD = 0xFF;\t//PD0-PD7 outputs\r\n\tPORTD = 0xFB;\t//PD0-PD7 HIGH\r\n\tDDRF = 0xF0;\t//PF4-PF7 outputs, data LCD, A3:A0\r\n\tDDRC = 0xF0;\t//PC4-PC7 outputs\r\n\tPORTC = 0x0F;\t//Outputs LOW, inputs pullup\r\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\r\n\tPORTB = 0xF0;\t//connect pullup resistors\r\n}\r\n\r\nvoid send_nibble(char halfbyte)\t{\r\n\tPORTF = halfbyte;\r\n\tPORTC |= (1 << E);//start pulse\r\n\twait(1);\t//pulse length 750 ns\r\n\tPORTC &=!(1 << E);  //end pulse\r\n}\r\n\r\nvoid send_instruction(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD &= ~(1 << RS);\r\n\tPORTD &= ~(1 << RW);\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid send_character(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD |= (1 << RS);\t//RS = 1, character\r\n\tPORTD &= ~(1 << RW);\t//RW =0\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\nvoid init_LCD(void)\t{\r\n\tPORTD &= ~(1 << RS);\t//RS=0\r\n\tsend_nibble(0x30);\r\n\twait_long(41); //wait 4,1 ms\r\n\tsend_nibble(0x30);\r\n\twait_long(1); //wait 100 us\r\n\tsend_nibble(0x30);\r\n\tsend_nibble(0x20);\r\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\r\n\tsend_instruction(0x28);\r\n\tsend_instruction(0x0F);\r\n\tsend_instruction(0x01);\r\n\twait_long(16);\r\n\tsend_instruction(0x06);\r\n}\r\n\r\nvoid waithalfsecond(void)\t{\r\n\tchar i;\r\n\ti = 25;\r\n\twhile (i)\r\n\t{\r\n\t\ti--;\r\n\t\twait_long(200);\r\n\t}\r\n}\r\n\r\nvoid wait_busyflag(void)\t{\r\n\tchar byte, dummy;\r\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\r\n\tPORTD |= (1<<RW);\t//RW = 1\r\n\tPORTD &= ~(1<<RS);\t//RS = 0\r\n\tdo\r\n\t{\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tdummy = PINF;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t}\r\n\twhile(byte);\r\n\tPORTD &= ~(1<<RW);\t//read from LCD\r\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\r\n}\r\n\r\nvoid send_decimal(char number)\t{\t//Sends a decimal to display\r\n\tsend_character(number/100 + 0x30);\r\n\tnumber %= 100;\r\n\tsend_character(number/10 + 0x30);\r\n\tsend_character(number % 10 + 0x30);\r\n}\r\n\r\nvoid send_hexdigit(char number)\t{\t//Sends a hex digit to display\r\n\tif(number > 0x39)\r\n\t\tnumber += 7;\r\n\tsend_character(number);\r\n}\r\n\r\nvoid send_hex(char number)\t{\t//Sends byte in hexd form to display\r\n\tchar temp;\r\n\ttemp = number/16 + 0x30;\r\n\tsend_hexdigit(temp);\r\n\ttemp = number % 16 + 0x30;\r\n\tsend_hexdigit(temp);\r\n}\r\n\r\nvoid send_to_display(char number) {\t\t//Sends a number to display in both dec and hex-form\r\n\tsend_instruction(0x80);\t//Place marker at pos 0, 1st row 1000 0000 (1rpp pppp)\r\n\tsend_decimal(number);\r\n\tshift_cursor_right(3);\t//Shift cursor 3 times right\r\n\tshift_cursor_right(3);\t//One more times\r\n\tsend_hex(number);\r\n}\r\n\r\nvoid shift_cursor_right(int times) {\r\n\twhile (times) {\r\n\t\tsend_instruction(0x14);\t//Move cursor right, 0001 0100\r\n\t\ttimes--;\r\n//\t\twaithalfsecond();\t//Debugin'\r\n\t}\r\n}\r\n\r\n\r\nvoid initUSART()\r\n{\r\n\tUBRR1L = 103;\t//Set baudrate to 9600\r\n\tUCSR1B = 0b00011000;\t//Rx & Tx en\r\n\r\n}\r\n\r\nint main(void)\r\n{\r\n\tUSBCON = 0;\r\n\tinit_pins();\r\n\tinitUSART();\r\n\tinit_LCD();\r\n//\tinit_PCINT0();\r\n\tchar rxByte = 0;\r\n\twhile (1){\r\n\t\tif(rxByte) {\r\n\t\t\tsend_character(rxByte);\r\n\t\t\trxByte = 0;\r\n\t\t}\r\n\t\t// if((UCSR1A & 0b00100000))\r\n\t\t\t// UDR1 = 'i';\r\n\t\t if (UCSR1A & 0b10000000)\r\n\t\t\trxByte = UDR1;\r\n\t_delay_ms(3000);\r\n\t}\r\n}\r\n"}},{"type":"group-end","snapshot":{"0":{"range":[[173,0],[173,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,1]],"oldText":"","newText":"/"}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":"/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,1],[4,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,1],[4,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":"*"}},{"type":"change","content":{"oldRange":[[4,2],[4,2]],"newRange":[[4,2],[5,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,1]],"oldText":"","newText":"*"}},{"type":"group-end","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,1],[5,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,1],[5,1]],"newRange":[[5,1],[5,2]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[5,2],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,2],[4,2]],"newRange":[[4,2],[4,3]],"oldText":"","newText":"\t"}},{"type":"group-end","snapshot":{"0":{"range":[[4,3],[4,3]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,3],[4,3]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,3],[4,3]],"newRange":[[4,3],[4,4]],"oldText":"","newText":"P"}},{"type":"change","content":{"oldRange":[[4,4],[4,4]],"newRange":[[4,4],[4,5]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,5],[4,5]],"newRange":[[4,5],[4,6]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,6],[4,6]],"newRange":[[4,6],[4,7]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[4,7],[4,7]],"newRange":[[4,7],[4,8]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,8],[4,8]],"newRange":[[4,8],[4,9]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[4,9],[4,9]],"newRange":[[4,9],[4,10]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[4,10],[4,10]],"newRange":[[4,10],[4,11]],"oldText":"","newText":"m"}},{"type":"group-end","snapshot":{"0":{"range":[[4,11],[4,11]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,11],[4,11]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,3],[4,11]],"newRange":[[4,3],[4,13]],"oldText":"Programm","newText":"Programmet"}},{"type":"group-end","snapshot":{"0":{"range":[[4,13],[4,13]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,13],[4,13]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,13],[4,13]],"newRange":[[4,13],[4,14]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,14],[4,14]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,14],[4,14]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,14],[4,14]],"newRange":[[4,14],[4,15]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[4,15],[4,15]],"newRange":[[4,15],[4,16]],"oldText":"","newText":"k"}},{"type":"change","content":{"oldRange":[[4,16],[4,16]],"newRange":[[4,16],[4,17]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,17],[4,17]],"newRange":[[4,17],[4,18]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[4,17],[4,18]],"newRange":[[4,17],[4,17]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[4,16],[4,17]],"newRange":[[4,16],[4,16]],"oldText":"r","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,16],[4,16]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,16],[4,16]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,16],[4,16]],"newRange":[[4,16],[4,17]],"oldText":"","newText":"k"}},{"type":"group-end","snapshot":{"0":{"range":[[4,17],[4,17]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,17],[4,17]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,16],[4,17]],"newRange":[[4,16],[4,16]],"oldText":"k","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,16],[4,16]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,16],[4,16]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,16],[4,16]],"newRange":[[4,16],[4,17]],"oldText":"","newText":"r"}},{"type":"group-end","snapshot":{"0":{"range":[[4,17],[4,17]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,17],[4,17]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,14],[4,17]],"newRange":[[4,14],[4,21]],"oldText":"skr","newText":"skriver"}},{"type":"group-end","snapshot":{"0":{"range":[[4,21],[4,21]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,21],[4,21]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,21],[4,21]],"newRange":[[4,21],[4,22]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,22],[4,22]],"newRange":[[4,22],[4,23]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[4,23],[4,23]],"newRange":[[4,23],[4,24]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,24],[4,24]],"newRange":[[4,24],[4,25]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,25],[4,25]],"newRange":[[4,25],[4,26]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,26],[4,26]],"newRange":[[4,26],[4,27]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[4,27],[4,27]],"newRange":[[4,27],[4,28]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,28],[4,28]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,28],[4,28]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,27],[4,28]],"newRange":[[4,27],[4,27]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[4,27],[4,27]],"newRange":[[4,27],[4,28]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[4,28],[4,28]],"newRange":[[4,28],[4,29]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,29],[4,29]],"newRange":[[4,29],[4,30]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,30],[4,30]],"newRange":[[4,30],[4,31]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[4,31],[4,31]],"newRange":[[4,31],[4,32]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,32],[4,32]],"newRange":[[4,32],[4,33]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,33],[4,33]],"newRange":[[4,33],[4,34]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[4,34],[4,34]],"newRange":[[4,34],[4,35]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[4,35],[4,35]],"newRange":[[4,35],[4,36]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,36],[4,36]],"newRange":[[4,36],[4,37]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,37],[4,37]],"newRange":[[4,37],[4,38]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,38],[4,38]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,38],[4,38]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,38],[4,38]],"newRange":[[4,38],[4,39]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[4,39],[4,39]],"newRange":[[4,39],[4,40]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[4,40],[4,40]],"newRange":[[4,40],[4,41]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,41],[4,41]],"newRange":[[4,41],[4,42]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[4,42],[4,42]],"newRange":[[4,42],[4,43]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,43],[4,43]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,43],[4,43]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,42],[4,43]],"newRange":[[4,42],[4,42]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,42],[4,42]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,42],[4,42]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,41],[4,42]],"newRange":[[4,41],[4,41]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[4,40],[4,41]],"newRange":[[4,40],[4,40]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[4,39],[4,40]],"newRange":[[4,39],[4,39]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[4,38],[4,39]],"newRange":[[4,38],[4,38]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[4,37],[4,38]],"newRange":[[4,37],[4,37]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[4,36],[4,37]],"newRange":[[4,36],[4,36]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[4,35],[4,36]],"newRange":[[4,35],[4,35]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[4,34],[4,35]],"newRange":[[4,34],[4,34]],"oldText":"m","newText":""}},{"type":"change","content":{"oldRange":[[4,33],[4,34]],"newRange":[[4,33],[4,33]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[4,32],[4,33]],"newRange":[[4,32],[4,32]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[4,31],[4,32]],"newRange":[[4,31],[4,31]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[4,30],[4,31]],"newRange":[[4,30],[4,30]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[4,29],[4,30]],"newRange":[[4,29],[4,29]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[4,28],[4,29]],"newRange":[[4,28],[4,28]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,28],[4,28]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,28],[4,28]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,27],[4,28]],"newRange":[[4,27],[4,27]],"oldText":"g","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,27],[4,27]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,27],[4,27]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,27],[4,27]],"newRange":[[4,27],[4,28]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[4,28],[4,28]],"newRange":[[4,28],[4,29]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,29],[4,29]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,29],[4,29]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,28],[4,29]],"newRange":[[4,28],[4,28]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[4,27],[4,28]],"newRange":[[4,27],[4,27]],"oldText":"h","newText":""}},{"type":"change","content":{"oldRange":[[4,26],[4,27]],"newRange":[[4,26],[4,26]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[4,25],[4,26]],"newRange":[[4,25],[4,25]],"oldText":"o","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,25],[4,25]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,25],[4,25]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,25],[4,25]],"newRange":[[4,25],[4,26]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,26],[4,26]],"newRange":[[4,26],[4,27]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[4,27],[4,27]],"newRange":[[4,27],[4,28]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[4,28],[4,28]],"newRange":[[4,28],[4,29]],"oldText":"","newText":"l"}},{"type":"group-end","snapshot":{"0":{"range":[[4,29],[4,29]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,29],[4,29]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,29],[4,29]],"newRange":[[4,29],[4,30]],"oldText":"","newText":","}},{"type":"change","content":{"oldRange":[[4,30],[4,30]],"newRange":[[4,30],[4,31]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,31],[4,31]],"newRange":[[4,31],[4,32]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,32],[4,32]],"newRange":[[4,32],[4,33]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[4,33],[4,33]],"newRange":[[4,33],[4,34]],"oldText":"","newText":"h"}},{"type":"group-end","snapshot":{"0":{"range":[[4,34],[4,34]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,34],[4,34]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,34],[4,34]],"newRange":[[4,34],[4,35]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,35],[4,35]],"newRange":[[4,35],[4,36]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,36],[4,36]],"newRange":[[4,36],[4,37]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[4,37],[4,37]],"newRange":[[4,37],[4,38]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,38],[4,38]],"newRange":[[4,38],[4,39]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,39],[4,39]],"newRange":[[4,39],[4,40]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[4,40],[4,40]],"newRange":[[4,40],[4,41]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[4,41],[4,41]],"newRange":[[4,41],[4,42]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,42],[4,42]],"newRange":[[4,42],[4,43]],"oldText":"","newText":"t"}},{"type":"group-end","snapshot":{"0":{"range":[[4,43],[4,43]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,43],[4,43]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,43],[4,43]],"newRange":[[4,43],[4,44]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,44],[4,44]],"newRange":[[4,44],[4,45]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[4,45],[4,45]],"newRange":[[4,45],[4,46]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[4,46],[4,46]],"newRange":[[4,46],[4,47]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,47],[4,47]],"newRange":[[4,47],[4,48]],"oldText":"","newText":"a"}},{"type":"group-end","snapshot":{"0":{"range":[[4,48],[4,48]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,48],[4,48]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,48],[4,48]],"newRange":[[4,48],[4,49]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,49],[4,49]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,49],[4,49]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,49],[4,49]],"newRange":[[4,49],[4,50]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[4,50],[4,50]],"newRange":[[4,50],[4,51]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,51],[4,51]],"newRange":[[4,51],[4,52]],"oldText":"","newText":"p"}},{"type":"group-end","snapshot":{"0":{"range":[[4,52],[4,52]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,52],[4,52]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,51],[4,52]],"newRange":[[4,51],[4,51]],"oldText":"p","newText":""}},{"type":"change","content":{"oldRange":[[4,50],[4,51]],"newRange":[[4,50],[4,50]],"oldText":"r","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,50],[4,50]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,50],[4,50]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,49],[4,50]],"newRange":[[4,49],[4,49]],"oldText":"f","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,49],[4,49]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,49],[4,49]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,49],[4,49]],"newRange":[[4,49],[4,50]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[4,50],[4,50]],"newRange":[[4,50],[4,51]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,51],[4,51]],"newRange":[[4,51],[4,52]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[4,52],[4,52]],"newRange":[[4,52],[4,53]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[4,53],[4,53]],"newRange":[[4,53],[4,54]],"oldText":"","newText":","}},{"type":"change","content":{"oldRange":[[4,54],[4,54]],"newRange":[[4,54],[4,55]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,54],[4,55]],"newRange":[[4,54],[4,54]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[4,53],[4,54]],"newRange":[[4,53],[4,53]],"oldText":",","newText":""}},{"type":"change","content":{"oldRange":[[4,52],[4,53]],"newRange":[[4,52],[4,52]],"oldText":"n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,52],[4,52]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,52],[4,52]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,51],[4,52]],"newRange":[[4,51],[4,51]],"oldText":"p","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,51],[4,51]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,51],[4,51]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,51],[4,51]],"newRange":[[4,51],[4,52]],"oldText":"","newText":"å"}},{"type":"change","content":{"oldRange":[[4,52],[4,52]],"newRange":[[4,52],[4,53]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[4,53],[4,53]],"newRange":[[4,53],[4,54]],"oldText":"","newText":","}},{"type":"group-end","snapshot":{"0":{"range":[[4,54],[4,54]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,54],[4,54]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,54],[4,54]],"newRange":[[4,54],[4,55]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,55],[4,55]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,55],[4,55]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,55],[4,55]],"newRange":[[4,55],[4,56]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[4,56],[4,56]],"newRange":[[4,56],[4,57]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[4,57],[4,57]],"newRange":[[4,57],[4,58]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,58],[4,58]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,58],[4,58]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,58],[4,58]],"newRange":[[4,58],[4,59]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[4,59],[4,59]],"newRange":[[4,59],[4,60]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[4,60],[4,60]],"newRange":[[4,60],[4,61]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[4,61],[4,61]],"newRange":[[4,61],[4,62]],"oldText":"","newText":"t"}},{"type":"group-end","snapshot":{"0":{"range":[[4,62],[4,62]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,62],[4,62]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,62],[4,62]],"newRange":[[4,62],[4,63]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,63],[4,63]],"newRange":[[4,63],[4,64]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,64],[4,64]],"newRange":[[4,64],[4,65]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[4,64],[4,65]],"newRange":[[4,64],[4,64]],"oldText":"h","newText":""}},{"type":"change","content":{"oldRange":[[4,63],[4,64]],"newRange":[[4,63],[4,63]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[4,62],[4,63]],"newRange":[[4,62],[4,62]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[4,61],[4,62]],"newRange":[[4,61],[4,61]],"oldText":"t","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,61],[4,61]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,61],[4,61]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,61],[4,61]],"newRange":[[4,61],[4,62]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[4,62],[4,62]],"newRange":[[4,62],[4,63]],"oldText":"","newText":"t"}},{"type":"group-end","snapshot":{"0":{"range":[[4,63],[4,63]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,63],[4,63]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,63],[4,63]],"newRange":[[4,63],[4,64]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[4,64],[4,64]],"newRange":[[4,64],[4,65]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,65],[4,65]],"newRange":[[4,65],[4,66]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,65],[4,66]],"newRange":[[4,65],[4,65]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[4,64],[4,65]],"newRange":[[4,64],[4,64]],"oldText":"o","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,64],[4,64]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,64],[4,64]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,63],[4,64]],"newRange":[[4,63],[4,63]],"oldText":"h","newText":""}},{"type":"change","content":{"oldRange":[[4,63],[4,63]],"newRange":[[4,63],[4,64]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[4,64],[4,64]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,64],[4,64]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,64],[4,64]],"newRange":[[4,64],[4,65]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[4,65],[4,65]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,65],[4,65]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,65],[4,65]],"newRange":[[4,65],[4,66]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,66],[4,66]],"newRange":[[4,66],[4,67]],"oldText":"","newText":"h"}},{"type":"group-end","snapshot":{"0":{"range":[[4,67],[4,67]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,67],[4,67]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,67],[4,67]],"newRange":[[4,67],[4,68]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[4,68],[4,68]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,68],[4,68]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,68],[4,68]],"newRange":[[4,68],[4,69]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[4,69],[4,69]],"newRange":[[4,69],[4,70]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[4,70],[4,70]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,70],[4,70]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,70],[4,70]],"newRange":[[4,70],[4,71]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[4,71],[4,71]],"newRange":[[4,71],[4,72]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[4,72],[4,72]],"newRange":[[4,72],[4,73]],"oldText":"","newText":"l"}},{"type":"group-end","snapshot":{"0":{"range":[[4,73],[4,73]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[5,0],[5,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[5,0],[5,2]],"newRange":[[5,0],[5,0]],"oldText":"*/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,3],[4,3]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,2],[4,3]],"newRange":[[4,2],[4,2]],"oldText":"\t","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,2],[4,2]],"newRange":[[4,2],[4,3]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[4,3],[4,3]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,3],[4,3]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,2],[4,3]],"newRange":[[4,2],[4,2]],"oldText":"/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":"*","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[4,1],[4,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,1],[4,1]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,1],[4,1]],"newRange":[[4,1],[4,2]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[4,2],[4,2]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[5,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[5,0],[5,0]],"newRange":[[5,0],[5,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[4,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[5,0],[5,0]],"properties":{"type":"selection","editorId":56,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab16/Lab16a.c","digestWhenLastPersisted":"422d70d4c28a1e084a0c8db87bcd2d28c4e53427","preferredLineEnding":"\r\n","deserializer":"TextBuffer","version":2},{"text":"//Functions needed to control an LCD display\r\n//The program writes HELLO on a display\r\n//121117\r\n//Jonas F\r\n\r\n//Uppgift 4 lab 14\r\n/*\tProgrammet läser in ADC-värde från den interna tempsensorn eftersom\r\n\tpinsen för ADC0 och ADC1 ej är framdragna på pro mico, därför var\r\n\tdifferentiell mäting omöjlig.\r\n*/\r\n\r\n#include <avr/io.h>\r\n\r\n#define \tCOL1 \t0b10001000\r\n#define \tCOL2 \t0b00011000\r\n#define \tCOL3 \t0b10010000\r\n#define \tRS \t\t0\r\n#define \tRW\t\t1\r\n#define \tE \t\t6\r\n\r\nextern void wait(char);\r\nextern void wait_long(char);\r\nextern void no_operation(void);\r\n\r\n#define TEXT_LENGTH\t\t4\r\n\r\nint GREETING [TEXT_LENGTH] ={'T','e','m','p'};\r\nvoid init_pins(void)\r\n{\r\n\tDDRD = 0xFF;\t//PD4-PD7 outputs\r\n\tPORTD = 0xFF;\r\n\tDDRF = 0xF0;\t//PF4-PF7 outputs\r\n\tDDRC = 0xF0;\t//PC6 and PC7 outputs\r\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\r\n\tPORTB = 0xF0;\t//connect pullup resistors\r\n\tPORTC = 0x0F;\r\n}\r\n\r\n\r\nvoid wait_busyflag(void)\r\n{\r\n\tchar byte;\r\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\r\n\tPORTD |= (1<<RW);\t//RW = 1\r\n\tPORTD &= ~(1<<RS);\t//RS = 0\r\n\tdo\r\n\t{\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t}\r\n\twhile(byte);\r\n\tPORTD &= ~(1<<RW);\t//read from LCD\r\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\r\n}\r\n\r\n\r\nvoid send_nibble(char halfbyte)\r\n{\r\n\tPORTF = halfbyte;\r\n\tPORTC |= (1 << E);//start pulse\r\n\twait(1);\t//pulse length 750 ns\r\n\tPORTC &=!(1 << E);  //end pulse\r\n}\r\n\r\nvoid send_instruction(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD &= ~(1 << RS);\r\n\tPORTD &= ~(1 << RW);\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid send_character(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD |= (1 << RS);\t//RS = 1, character\r\n\tPORTD &= ~(1 << RW);\t//RW =0\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid init_LCD(void)\r\n{\r\n\tPORTD &= ~(1 << RS);\t//RS=0\r\n\tsend_nibble(0x30);\r\n\twait_long(41); //wait 4,1 ms\r\n\tsend_nibble(0x30);\r\n\twait_long(1); //wait 100 us\r\n\tsend_nibble(0x30);\r\n\tsend_nibble(0x20);\r\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\r\n\tsend_instruction(0x28);\r\n\tsend_instruction(0x0F);\r\n\tsend_instruction(0x01);\r\n\twait_long(16);\r\n\tsend_instruction(0x06);\r\n}\r\n/*\r\n:\r\n:\tInitiates internal temp sensor as a single-ended input\r\n:\r\n*/\r\nvoid initAD()\r\n{\r\n\tADMUX =\t\t0b11100111; // Sets internal 2.56 v reference (7-6) 5 left-adjust, 2-0 MUX4:0 (internal temp sensor)\r\n\r\n\tADCSRB |=\t0b00100000; //MSB of temp sensor is set (MUX5)\r\n\tADCSRA =\t0b10100111; //Decoding speed (2-0, 62.5kHz) 5: auto trigger, 7 enactivable.\r\n}\r\nvoid disableDigitalPortF()\r\n{\r\n\tDIDR0 |= 0b00000011;\r\n}\r\n\r\nvoid startAD()\r\n{\r\n\tADCSRA |= 0b01000000;\r\n}\r\n\r\nvoid outputToLCD(int text[],int length)\r\n{\r\n\r\n\tfor (int i = 0; i < TEXT_LENGTH; i++)\r\n\tsend_character(text[i]);\r\n}\r\nvoid writeToR2C6()\r\n{\r\n\tsend_instruction(0xC6);\r\n}\r\nvoid writeToR2C1()\r\n{\r\n\tsend_instruction(0xC0);\r\n}\r\nvoid writeTempType(char c)\r\n{\r\n\twriteToR2C6();\r\n\tsend_character(0xDF);\r\n\tsend_character(c);\r\n}\r\n\r\nint isKey4Active()\r\n{\r\n\treturn !(PINB & 0b00100000);\r\n}\r\n\r\nint isKey1Active()\r\n{\r\n\treturn !(PINB & 0b00010000);\r\n}\r\n\r\nvoid sendTempType(int d)\r\n{\r\n\twriteToR2C6();\r\n}\r\nvoid sendTemp(int t,int type)\r\n{\r\n\twriteToR2C1();\r\n\r\n\tif(type)\r\n\t\treturn writeTemp(t*9/5+320);\r\n\twriteTemp(t);\r\n}\r\nvoid writeTemp(int t)\r\n{\r\n\tint n = 0x30;\r\n\tsend_character(t/100 + n);\r\n\tsend_character((t%=100)/10 + n);\r\n\tsend_character(',');\r\n\tsend_character(t%10 + n);\r\n}\r\n\r\nuint8_t checkTemp( uint8_t tempType )\r\n{\r\n\tif(isKey1Active())\r\n\t{\r\n\t\twriteTempType('C');\r\n\t\ttempType = 0;\r\n\t\twhile(isKey1Active());\r\n\t}\r\n\telse if (isKey4Active())\r\n\t{\r\n\t\twriteTempType('F');\r\n\t\ttempType = 1;\r\n\t\twhile(isKey4Active());\r\n\t}\treturn tempType;\r\n}\r\n\r\nvoid setTimer1()\r\n{\r\n\t//Set timer1 divisor to 256\r\n\tTCCR1B &= 0b11100000;\r\n\tTCCR1B |= 0b00001100;\r\n\tTCCR1A &= 0b11111100;\r\n}\r\n// Set value 62.5k in comp.reg (62.5kHz)\r\n\r\nvoid setCompareRegister()\r\n{\r\n\r\n\tOCR1A = (0xF424);\r\n}\r\n\r\nint main(void)\r\n{\r\n\tsetTimer1();\r\n\r\n\tsetCompareRegister();\r\n\r\n\r\n\tuint8_t tempType = 0;\r\n\tint ADresult = 242;\r\n\r\n\tinit_pins();\r\n\tinit_LCD();\r\n\r\n\tinitAD();\r\n\tdisableDigitalPortF();\r\n\tstartAD();\r\n\r\n\toutputToLCD(GREETING,TEXT_LENGTH);\r\n\r\n\twriteTempType('C');\r\n\tsend_instruction(0x0C); //Turn off cursor\r\n\r\n\tPORTD = COL1;\r\n\tfor(;;)\r\n\t{\r\n\t\ttempType = checkTemp(tempType);\r\n\t\tsendTemp(ADresult,tempType);\r\n\r\n\t\tif(TIFR1 & 0b00000010)\r\n\t\t{\r\n\t\t\tTIFR1 &= 02;\r\n\t\t\tADresult = ADCL;\r\n\t\t\t//ADresult = ADCH*0x100;\r\n\t\t\tADresult += ADCH;\r\n\t\t\t//ADresult *= (int) 0.977;\r\n\t\t}\r\n\r\n\t}\r\n}\r\n","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":8,"column":30},"end":{"row":8,"column":30}},"properties":{"type":"selection","editorId":60,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/Lab14a.c","digestWhenLastPersisted":"da87e76c53266549931a822bc065c5968142679b","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"//Functions needed to control an LCD display\r\n//and a keyboard\r\n//121117\r\n//Jonas F\r\n#include <avr/io.h>\r\n#include <avr/interrupt.h>\r\n\r\n#define \tCOL1 \t0b10001000\r\n#define \tCOL2 \t0b00011000\r\n#define \tCOL3 \t0b10010000\r\n\r\n#define \tRS \t0\r\n#define \tRW \t1\r\n#define \tE \t6\r\n\r\nint _interruptCounter = 2;\r\n\r\nextern void wait(char);\r\nextern void wait_long(char);\r\nextern void no_operation(void);\r\n\r\n\r\nvoid init_pins(void)\r\n{\r\n\tDDRD = 0xFF;\t//PD4-PD7 outputs\r\n\tPORTD = 0xFF;\r\n\tDDRF = 0xF0;\t//PF4-PF7 outputs\r\n\tDDRC = 0xF0;\t//PC6 and PC7 outputs\r\n\tDDRB = 0x0F;\t//PB4-PB7 inputs\r\n\tPORTB = 0xF0;\t//connect pullup resistors\r\n\tPORTC = 0x0F;\r\n}\r\n\r\nvoid wait_busyflag(void)\r\n{\r\n\tchar byte;\r\n\tDDRF &= 0x00;\t\t//PF4-PF7 inputs\r\n\tPORTD |= (1<<RW);\t//RW = 1\r\n\tPORTD &= ~(1<<RS);\t//RS = 0\r\n\tdo\r\n\t{\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t\tbyte = PINF & 0x80;\t//MSB of byte is busyflag\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t\tPORTC |= (1<<E);\t//show contents of LCD\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\r\n\t\tPORTC &= ~(1<<E);\t//disconnect LCD\r\n\t}\r\n\twhile(byte);\r\n\tPORTD &= ~(1<<RW);\t//read from LCD\r\n\tDDRF = 0xF0;\t\t//PF4-PF7 outputs\r\n}\r\n\r\n\r\nvoid send_nibble(char halfbyte)\r\n{\r\n\tPORTF = halfbyte;\r\n\tPORTC |= (1 << E);//start pulse\r\n\twait(1);\t//pulse length 750 ns\r\n\tPORTC &=!(1 << E);  //end pulse\r\n}\r\n\r\nvoid send_instruction(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD &= ~(1 << RS);\r\n\tPORTD &= ~(1 << RW);\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid send_character(char byte)\r\n{\r\n\twait_busyflag();\r\n\tPORTD |= (1 << RS);\t//RS = 1, character\r\n\tPORTD &= ~(1 << RW);\t//RW =0\r\n\tsend_nibble(byte);\r\n\tsend_nibble(byte<<4);\r\n}\r\n\r\nvoid init_LCD(void)\r\n{\r\n\tPORTD &= ~(1 << RS);\t//RS=0\r\n\tsend_nibble(0x30);\r\n\twait_long(41); //wait 4,1 ms\r\n\tsend_nibble(0x30);\r\n\twait_long(1); //wait 100 us\r\n\tsend_nibble(0x30);\r\n\tsend_nibble(0x20);\r\n\twait(170);\t// wait (4*170+ 8)/16 ?s = 43 us\r\n\tsend_instruction(0x28);\r\n\tsend_instruction(0x0F);\r\n\tsend_instruction(0x01);\r\n\twait_long(16);\r\n\tsend_instruction(0x06);\r\n}\r\n\r\nvoid init_PCINT0(void)\r\n{\r\n\tPCICR = 0b00000001;\t//activate PCINT\r\n\tPCMSK0 = 0b11110000;\t//activate for PB4 � PB7\r\n\tasm(\"SEI\");\t\t//set global interrupt bit\r\n}\r\n\r\nchar convert(char code)\r\n{\r\n\tswitch(code)\r\n\t{\r\n\t\tcase 184: return('4');\r\n\t\tcase 232: return('C');\r\n\t\tcase 225: return('D');\r\n\t\tcase 233: return('E');\r\n\t\tcase 216: return('8');\r\n\t\tcase 209: return('9');\r\n\t\tcase 217: return('A');\r\n\t\tcase 177: return('5');\r\n\t\tcase 185: return('6');\r\n\t\tdefault: return ('X');\r\n\t}\r\n\r\n}\r\n\r\nvoid clearScreen()\r\n{\r\n\tPORTD &= 0b11111100;\r\n\tsend_instruction(1);\r\n}\r\n\r\nISR(PCINT0_vect)\r\n{\r\n\tchar SREG_temp, key;\r\n\tSREG_temp = SREG;\t//store SREG\r\n\twait_long(250);\t\t//wait 25 ms\r\n\tasm(\"NOP\");\t\t//This is frankly retarded after the previous call...\r\n\tasm(\"NOP\");\r\n\tkey = PINB;\t//get PBIN\r\n\tkey &= 0xF0;\t//reset bits 0 � 3\r\n\tif(key != 0xF0)\t//a key is activated\r\n\t{\r\n\r\n\t\tkey |= (PORTD>>4);\t//include info about column\r\n\t\tkey = convert(key);\t//convert key code\r\n\t\tsend_character(key);\r\n\t}\r\n\tif(key == 'D')\t//converted key value\r\n\t{\r\n\t\tsend_instruction(0x10);\r\n\t\tsend_character(' ');\r\n\t\tsend_instruction(0x10);\r\n\t}\r\n\telse if(key == 'C')\t//converted key value\r\n\t\tclearScreen();\r\n\r\n\tdo\r\n\t{\r\n\t\tasm(\"NOP\");\r\n\t\tasm(\"NOP\");\r\n\t}\r\n\twhile((PINB & 0xF0) != 0xF0);\r\n\twait_long(250);\t//to avoid key bounces\r\n\tSREG = SREG_temp;\r\n}\r\n\r\n\r\nvoid initUSART()\r\n{\r\n\tUBRR1L = 103;\t//Set baudrate to 9600\r\n\tUCSR1B = 03;\r\n\r\n}\r\n\r\nint main(void)\r\n{\r\n\tTCCR1B = 0b00001010; //2-0:Sets timer /8,4-3:mode\r\n\tTCCR1A = 0b00000000; //1-0:Continued mode setting -> 2MHz\r\n\r\n\tOCR1A = 20000; // Compared to timer register for a 10ms interrupt\r\n\r\n\tTIMSK1 = 0x2; //Enable output compare 1a (match interrupt)\r\n\r\n\tUSBCON = 0;\r\n\tinit_pins();\r\n\tinit_LCD();\r\n\tinit_PCINT0();\r\n\twhile (1){\r\n\t\twhile(!(UCSR1A & 0b00100000))\r\n\t\t\tUDR1 = 0x7F;\r\n\t}\r\n}\r\n\r\nISR(TIMER1_COMPA_vect)\r\n{\r\n\tif(_interruptCounter > 3)\r\n\t\t_interruptCounter = 0;\r\n\r\n\tswitch(_interruptCounter)\r\n\t{\r\n\t\tcase(1):\r\n\t\t{\r\n\t\t\tPORTD = COL1;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase(2):\r\n\t\t{\r\n\t\t\tPORTD = COL2;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase(3):\r\n\t\t{\r\n\t\t\tPORTD = COL3;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t_interruptCounter ++;\r\n\r\n}\r\n","markerStore":{"nextMarkerId":7,"markersById":{"0":{"range":{"start":{"row":105,"column":40},"end":{"row":105,"column":40}},"properties":{"type":"selection","editorId":64,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab16/Lab15a.c","digestWhenLastPersisted":"0a23f4e906cba11477113218d75f093712bbc1ff","preferredLineEnding":null,"deserializer":"TextBuffer","version":2}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":40,"softTabs":false,"displayBuffer":{"id":41,"softWrapped":true,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/lab13/lab13e.c","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":44,"softTabs":false,"displayBuffer":{"id":45,"softWrapped":true,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/lab14/lab14.c","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":48,"softTabs":false,"displayBuffer":{"id":49,"softWrapped":true,"scrollTop":336,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Fr macke/Desktop/Lab14a.c","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":52,"softTabs":false,"displayBuffer":{"id":53,"softWrapped":true,"scrollTop":2349,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab15/Lab16a.c","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":60,"softTabs":false,"displayBuffer":{"id":61,"softWrapped":true,"scrollTop":3861,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/Lab14a.c","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":64,"softTabs":false,"displayBuffer":{"id":65,"softWrapped":true,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab16/Lab15a.c","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":56,"softTabs":false,"displayBuffer":{"id":57,"softWrapped":true,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab16/Lab16a.c","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab16/Lab16a.c","focused":true,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-c","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"find-and-replace":{"findOptions":{"findPattern":"init_pcint0","replacePattern":"","pathsPattern":"","useRegex":false,"wholeWord":false,"caseSensitive":false,"inCurrentSelection":false},"findHistory":["turn_off_usb","reset","button","reset","init_pcint0"],"replaceHistory":[],"pathsHistory":[]},"fuzzy-finder":{"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/lab13/lab13e.c":1448480799963,"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/lab14/lab14.c":1448481590245,"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Fr macke/Desktop/Lab14a.c":1448494295827,"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab15/Lab16a.c":1448494298660,"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul4/Lab14a.c":1448493090184,"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab16/Lab15a.c":1448493734823,"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Modul5/lab16/Lab16a.c":1448494352158},"keybinding-resolver":{},"metrics":{"sessionLength":16249592},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/home/victor/Documents/Elektro/Inbyggda system/Dokument/Arkitektur_design_mjukvara/Fr macke/Desktop/Lab10a/Lab10a/Lab10a":{"isExpanded":true,"entries":{"Debug":{"isExpanded":false,"entries":{}},"Release":{"isExpanded":false,"entries":{}}}}},"hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}